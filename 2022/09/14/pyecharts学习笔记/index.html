<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>pyecharts学习笔记 | share station</title><meta name="keywords" content="鱼丸的学习笔记"><meta name="author" content="Zhang Yuhua"><meta name="copyright" content="Zhang Yuhua"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="官方文档：pyecharts简介 可能需要用到的文件。 点击此处下载 提取码ik09 pyechart绘图基础初始配置项初始配置项是在初始化对象中进行配置的，可以设置画布的长与宽、网页标题、图表主题、背景色等。初始配置项是通过options模块中的InitOpts类实现的，可以使用init_opts作为参数传递。InitOpts类的使用格式如下。 1class InitOpts(width&#x3D;&amp;#x">
<meta property="og:type" content="article">
<meta property="og:title" content="pyecharts学习笔记">
<meta property="og:url" content="https://yuwan-codediary.github.io/2022/09/14/pyecharts%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="share station">
<meta property="og:description" content="官方文档：pyecharts简介 可能需要用到的文件。 点击此处下载 提取码ik09 pyechart绘图基础初始配置项初始配置项是在初始化对象中进行配置的，可以设置画布的长与宽、网页标题、图表主题、背景色等。初始配置项是通过options模块中的InitOpts类实现的，可以使用init_opts作为参数传递。InitOpts类的使用格式如下。 1class InitOpts(width&#x3D;&amp;#x">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-09-14T08:43:23.000Z">
<meta property="article:modified_time" content="2022-09-20T13:51:47.749Z">
<meta property="article:author" content="Zhang Yuhua">
<meta property="article:tag" content="鱼丸的学习笔记">
<meta name="twitter:card" content="summary"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://yuwan-codediary.github.io/2022/09/14/pyecharts%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: [object Object]
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'pyecharts学习笔记',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-09-20 21:51:47'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs头像.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">9</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">share station</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">pyecharts学习笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-14T08:43:23.000Z" title="发表于 2022-09-14 16:43:23">2022-09-14</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-09-20T13:51:47.749Z" title="更新于 2022-09-20 21:51:47">2022-09-20</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="pyecharts学习笔记"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>官方文档：<a target="_blank" rel="noopener" href="https://pyecharts.org/#/zh-cn/intro">pyecharts简介</a></p>
<p>可能需要用到的文件。</p>
<p><a target="_blank" rel="noopener" href="https://www.aliyundrive.com/s/C1NtQ8s2twe">点击此处下载</a> 提取码ik09</p>
<h1 id="pyechart绘图基础"><a href="#pyechart绘图基础" class="headerlink" title="pyechart绘图基础"></a>pyechart绘图基础</h1><h2 id="初始配置项"><a href="#初始配置项" class="headerlink" title="初始配置项"></a>初始配置项</h2><p>初始配置项是在初始化对象中进行配置的，可以设置画布的长与宽、网页标题、图表主题、背景色等。初始配置项是通过options模块中的InitOpts类实现的，可以使用init_opts作为参数传递。InitOpts类的使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">InitOpts</span>(width=<span class="string">&#x27;900px&#x27;</span>, height=<span class="string">&#x27;500px&#x27;</span>,chart_id=<span class="literal">None</span>,renderer=RenderType.CANVAS, page_title=<span class="string">&#x27;Awesome-pyecharts&#x27;</span>, theme=<span class="string">&#x27;white&#x27;</span>, bg_color=<span class="literal">None</span>, js_host=<span class="string">&#x27;&#x27;</span>,animation_opts=AnimationOpts())</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>width</strong></td>
<td>接收str，表示图表画布宽度。默认为900px</td>
</tr>
<tr>
<td><strong>height</strong></td>
<td>接收str，表示图表画布高度。默认为500px</td>
</tr>
<tr>
<td><strong>chart_id</strong></td>
<td>接收str，表示图表ID，图表唯一标识，可用于在多个图表合并时进行图表之间的区分。默认为None</td>
</tr>
<tr>
<td><strong>renderer</strong></td>
<td>接收str，表示渲染风格，可选canvas或svg。默认为canvas</td>
</tr>
<tr>
<td><strong>page_title</strong></td>
<td>接收str，表示网页标题。默认为Awesome-pyecharts</td>
</tr>
<tr>
<td><strong>theme</strong></td>
<td>接收str，表示图表主题。默认为white</td>
</tr>
<tr>
<td><strong>bg_color</strong></td>
<td>接收str，表示图表背景颜色。默认为None</td>
</tr>
</tbody></table>
<h2 id="系列配置项"><a href="#系列配置项" class="headerlink" title="系列配置项"></a>系列配置项</h2><h3 id="文字样式配置项"><a href="#文字样式配置项" class="headerlink" title="文字样式配置项"></a>文字样式配置项</h3><p>文字样式配置项是通过options模块中的TextStyleOpts类实现的，可以使用text_style_opts作为参数传递给set_series_opts()方法。TextStyleOpts类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TextStyleOpts</span>(color=<span class="literal">None</span>, font_style=<span class="literal">None</span>, font_weight=<span class="literal">None</span>, font_family=<span class="literal">None</span>, font_size=<span class="literal">None</span>, align=<span class="literal">None</span>, vertical_align=<span class="literal">None</span>, line_height=<span class="literal">None</span>, background_color=<span class="literal">None</span>, border_color=<span class="literal">None</span>, border_width=<span class="literal">None</span>， border_radius=<span class="literal">None</span>, padding=<span class="literal">None</span>, shadow_color=<span class="literal">None</span>, shadow_blur=<span class="literal">None</span>, width=<span class="literal">None</span>, height=<span class="literal">None</span>, rich=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>color</strong></td>
<td>接收str，表示文字颜色。默认为None</td>
</tr>
<tr>
<td><strong>font_style</strong></td>
<td>接收str，表示文字字体风格，可选normal、italic、oblique。默认为None</td>
</tr>
<tr>
<td><strong>font_weight</strong></td>
<td>接收str，表示主标题字体的粗细，可选normal、bold、bolder、lighter。默认为None</td>
</tr>
<tr>
<td><strong>font_family</strong></td>
<td>接收str，表示文字的字体系列。默认为None</td>
</tr>
<tr>
<td><strong>font_size</strong></td>
<td>接收numeric，表示文字的字体大小。默认为None</td>
</tr>
<tr>
<td><strong>align</strong></td>
<td>接收str，表示文字水平对齐方式。默认为None</td>
</tr>
<tr>
<td><strong>vertical_align</strong></td>
<td>接收str，表示文字垂直对齐方式。默认为None</td>
</tr>
<tr>
<td><strong>line_height</strong></td>
<td>接收str，表示行高。默认为None</td>
</tr>
<tr>
<td><strong>background_color</strong></td>
<td>接收str，表示文字块背景色。默认为None</td>
</tr>
<tr>
<td><strong>border_color</strong></td>
<td>接收str，表示文字块边框颜色。默认为None</td>
</tr>
<tr>
<td><strong>border_width</strong></td>
<td>接收numeric，表示文字块边框宽度。默认为None</td>
</tr>
</tbody></table>
<h3 id="标签配置项"><a href="#标签配置项" class="headerlink" title="标签配置项"></a>标签配置项</h3><p>标签配置项是通过options模块中的LabelOpts类实现的，可以使用label_opts作为参数传递给set_series_opts()方法。LabelOpts类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">LabelOpts</span>(is_show=<span class="literal">True</span>, position=<span class="string">&#x27;top&#x27;</span>, color=<span class="literal">None</span>, distance=<span class="literal">None</span>, font_size=<span class="number">12</span>, font_style=<span class="literal">None</span>, font_weight=<span class="literal">None</span>, font_family=<span class="literal">None</span>, rotate=<span class="literal">None</span>, margin=<span class="number">8</span>, interval=<span class="literal">None</span>, horizontal_align=<span class="literal">None</span> vertical_align=<span class="literal">None</span>, formatter=<span class="literal">None</span>, rich=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>is_show</strong></td>
<td>接收bool，表示是否显示标签。默认为True</td>
</tr>
<tr>
<td><strong>position</strong></td>
<td>接收str、Sequence，表示标签的位置。默认为top</td>
</tr>
<tr>
<td><strong>color</strong></td>
<td>接收str，表示文字的颜色。默认为None</td>
</tr>
<tr>
<td><strong>font_family</strong></td>
<td>接收str，表示文字的字体系列。默认为None</td>
</tr>
<tr>
<td><strong>font_size</strong></td>
<td>接收numeric，表示文字的字体大小。默认为12</td>
</tr>
<tr>
<td><strong>font_weight</strong></td>
<td>接收str，表示文字字体的粗细，可选normal、bold、bolder、lighter。默认为None</td>
</tr>
<tr>
<td><strong>rotate</strong></td>
<td>接收numeric，表示标签旋转角度，从-90度到90度。默认为None</td>
</tr>
<tr>
<td><strong>horizontal_align</strong></td>
<td>接收str，表示文字水平对齐方式，默认None</td>
</tr>
</tbody></table>
<h3 id="线样式配置项"><a href="#线样式配置项" class="headerlink" title="线样式配置项"></a>线样式配置项</h3><p>线样式配置项是通过options模块中的LineStyleOpts类实现的，可以使用line_style_opts作为参数传递给set_series_opts()方法。LineStyleOpts类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">LineStyleOpts</span>(is_show=<span class="literal">True</span>, width=<span class="number">1</span>, opacity=<span class="number">1</span>, curve=<span class="number">0</span>, type_=<span class="string">&#x27;solid&#x27;</span>, color=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>is_show</strong></td>
<td>接收bool，表示是否显示线。默认为True</td>
</tr>
<tr>
<td><strong>width</strong></td>
<td>接收numeric，表示线的宽度。默认为1</td>
</tr>
<tr>
<td><strong>opacity</strong></td>
<td>接收numeric，表示图形透明度，支持从0到1的数字。默认为1</td>
</tr>
<tr>
<td><strong>curve</strong></td>
<td>接收numeric，表示线的弯曲度，0表示完全不弯曲。默认为0</td>
</tr>
<tr>
<td><strong>type_</strong></td>
<td>接收str，表示线的类型，常用solid、dashed、dotted。默认为solid</td>
</tr>
<tr>
<td><strong>color</strong></td>
<td>接收str，表示线的颜色。默认为None</td>
</tr>
</tbody></table>
<h3 id="标记点配置项"><a href="#标记点配置项" class="headerlink" title="标记点配置项"></a>标记点配置项</h3><p>标记点配置项是通过options模块中的MarkPointOpts类实现的，可以使用markpoint_opts作为参数传递给set_series_opts()方法。MarkPointOpts类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MarkPointOpts</span>(data=<span class="literal">None</span>, symbol=<span class="literal">None</span>, symbol_size=<span class="literal">None</span>, label_opts=opts.LabelOpts(position=<span class="string">&#x27;inside&#x27;</span>, color=<span class="string">&#x27;#fff&#x27;</span>)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>data</strong></td>
<td>接收Sequence对象，表示标记点数据。默认为None</td>
</tr>
<tr>
<td><strong>symbol</strong></td>
<td>接收str，表示标记的图形，提供的标记类型包括circle、rect、roundrect、triangle、diamond、pin、arrow、None。默认为None</td>
</tr>
<tr>
<td><strong>symbol_size</strong></td>
<td>接收numeric，表示标记的大小，可以设置成单一的数字，如10；也可以使用数组分开表示宽和高，例如，[20,  10]表示标记宽为20，高为10。默认为None</td>
</tr>
<tr>
<td><strong>label_opts</strong></td>
<td>表示标签配置项</td>
</tr>
</tbody></table>
<h2 id="全局配置项"><a href="#全局配置项" class="headerlink" title="全局配置项"></a>全局配置项</h2><h3 id="标题配置项"><a href="#标题配置项" class="headerlink" title="标题配置项"></a>标题配置项</h3><p>标题配置项是通过options模块中的TitleOpts类实现的，可以使用title_opts作为参数传递给set_global_opts()方法。TitleOpts类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TitleOpts</span>(title=<span class="literal">None</span>, title_link=<span class="literal">None</span>, title_target=<span class="literal">None</span>, subtitle=<span class="literal">None</span>, subtitle_link=<span class="literal">None</span>, subtitle_target=<span class="literal">None</span>, pos_left=<span class="literal">None</span>, pos_right=<span class="literal">None</span>, pos_top=<span class="literal">None</span>, pos_bottom=<span class="literal">None</span>, padding=<span class="number">5</span>, item_gap=<span class="number">10</span>, title_textstyle_opts=<span class="literal">None</span>, subtitle_textstyle_opts=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>title</strong></td>
<td>接收str，表示主标题文本，支持使用\n换行。默认为None</td>
</tr>
<tr>
<td><strong>title_link</strong></td>
<td>接收str，表示主标题跳转URL链接。默认为None</td>
</tr>
<tr>
<td><strong>title_target</strong></td>
<td>接收str，表示主标题跳转链接方式，可选self、blank，self表示当前窗口打开，blank表示新窗口打开。默认为blank</td>
</tr>
<tr>
<td><strong>subtitle</strong></td>
<td>接收str，表示副标题文本，支持使用\n换行。默认为None</td>
</tr>
<tr>
<td><strong>subtitle_link</strong></td>
<td>接收str，表示副标题跳转URL链接。默认为None</td>
</tr>
<tr>
<td><strong>subtitle_target</strong></td>
<td>接收str，表示副标题跳转链接方式。默认为blank</td>
</tr>
<tr>
<td><strong>item_gap</strong></td>
<td>接收numeric，表示主副标题之间的间距。默认为10</td>
</tr>
<tr>
<td><strong>title_textstyle_opts</strong></td>
<td>表示主标题字体样式配置项</td>
</tr>
<tr>
<td><strong>subtitle_textstyle_opts</strong></td>
<td>表示副标题字体样式配置项</td>
</tr>
</tbody></table>
<h3 id="图例配置项"><a href="#图例配置项" class="headerlink" title="图例配置项"></a>图例配置项</h3><p>图例配置项是通过options模块中的LegendOpts类实现的，可以使用legend_opts作为参数传递给set_global_opts()方法。LegendOpts类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">LegendOpts</span>(type_=<span class="literal">None</span>, selected_mode=<span class="literal">None</span>, is_show=<span class="literal">True</span>, pos_left=<span class="literal">None</span>, pos_right=<span class="literal">None</span>, pos_top=<span class="literal">None</span>, pos_bottom=<span class="literal">None</span>, orient=<span class="literal">None</span>, align=<span class="literal">None</span>, padding=<span class="number">5</span>, item_gap=<span class="number">10</span>, item_width=<span class="number">25</span>, item_height=<span class="number">14</span>, inactive_color=<span class="literal">None</span>, textstyle_opts=<span class="literal">None</span>, legend_icon=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>type_</strong></td>
<td>接收str，表示图例的类型。可选plain、scroll，plain表示普通图例，scroll表示可滚动翻页的图例。默认为None</td>
</tr>
<tr>
<td><strong>is_show</strong></td>
<td>接收bool，表示是否显示图例组件，默认为True</td>
</tr>
<tr>
<td><strong>orient</strong></td>
<td>接收str，表示图例列表的布局朝向，可选horizontal、vertical。默认为None</td>
</tr>
<tr>
<td><strong>item_gap</strong></td>
<td>接收int，表示图例每项之间的间隔。默认为10</td>
</tr>
<tr>
<td><strong>inactive_color</strong></td>
<td>接收str，表示图例关闭时的颜色。默认为#ccc</td>
</tr>
<tr>
<td><strong>pos_left</strong></td>
<td>接收str、numeric，表示图例组件离容器左侧的距离。默认为None</td>
</tr>
<tr>
<td><strong>pos_right</strong></td>
<td>接收str、numeric，表示图例组件离容器右侧的距离。默认为None</td>
</tr>
<tr>
<td><strong>pos_top</strong></td>
<td>接收str、numeric，表示图例组件离容器上侧的距离。默认为None</td>
</tr>
<tr>
<td><strong>pos_bottom</strong></td>
<td>接收str、numeric，表示图例组件离容器下侧的距离。默认为None</td>
</tr>
</tbody></table>
<h3 id="坐标轴配置项"><a href="#坐标轴配置项" class="headerlink" title="坐标轴配置项"></a>坐标轴配置项</h3><p>坐标轴配置项是通过options模块中的AxisOpts类实现的，可以使用xaxis_opts或yaxis_opts作为参数传递给set_global_opts()方法。AxisOpts类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">AxisOpts</span>(type_=<span class="literal">None</span>, name=<span class="literal">None</span>, is_show=<span class="literal">True</span>, is_scale=<span class="literal">False</span>, is_inverse=<span class="literal">False</span>, name_location=<span class="string">&#x27;end&#x27;</span>, name_gap=<span class="number">15</span>, name_rotate=<span class="literal">None</span>, interval=<span class="literal">None</span>, grid_index =<span class="number">0</span>, position=<span class="literal">None</span>, offset=<span class="number">0</span>, split_number=<span class="number">5</span>, boundary_gap=<span class="literal">None</span>, min_=<span class="literal">None</span>, max_=<span class="literal">None</span>, min_interval=<span class="number">0</span>, max_interval=<span class="literal">None</span>, axisline_opts=<span class="literal">None</span>, axistick_opts=<span class="literal">None</span>, axislabel_opts=<span class="literal">None</span>, axispointer_opts=<span class="literal">None</span>, name_textstyle_opts=<span class="literal">None</span>, splitarea_opts=<span class="literal">None</span>, splitline_opts= SplitLineOpts(), minor_tick_opts=<span class="literal">None</span>, minor_split_line_opts=<span class="literal">None</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>type_</strong></td>
<td>接收str，表示坐标轴类型。可选value、category、time、log，value表示数值轴，适用于连续数据；category表示类目轴，适用于离散的类目数据；time表示时间轴，适用于连续的时序数据；log表示对数轴，适用于对数数据。默认为None</td>
</tr>
<tr>
<td><strong>name</strong></td>
<td>接收str，表示坐标轴名称。默认为None</td>
</tr>
<tr>
<td><strong>is_show</strong></td>
<td>接收bool，表示是否显示X坐标轴。默认为True</td>
</tr>
<tr>
<td><strong>is_inverse</strong></td>
<td>接收bool，表示是否反向坐标轴。默认为False</td>
</tr>
<tr>
<td><strong>name_gap</strong></td>
<td>接收numeric，表示坐标轴名称与轴线之间的距离。默认为15</td>
</tr>
<tr>
<td><strong>name_rotate</strong></td>
<td>接收numeric，表示坐标轴名字旋转角度值。默认为None</td>
</tr>
<tr>
<td><strong>position</strong></td>
<td>接收str，表示X轴的位置，可选top、bottom，top表示在上侧，bottom表示在下侧。默认为None</td>
</tr>
<tr>
<td><strong>split_number</strong></td>
<td>接收numeric，表示坐标轴的分割段数。默认为5</td>
</tr>
<tr>
<td><strong>min_</strong></td>
<td>接收str、numeric，表示坐标轴刻度最小值。默认为None</td>
</tr>
<tr>
<td><strong>max_</strong></td>
<td>接收str、numeric，表示坐标轴刻度最大值。默认为None</td>
</tr>
</tbody></table>
<h1 id="绘制交互式基础图形"><a href="#绘制交互式基础图形" class="headerlink" title="绘制交互式基础图形"></a>绘制交互式基础图形</h1><p><strong>导入相关库</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar</span><br><span class="line"><span class="keyword">from</span> pyecharts.<span class="built_in">globals</span> <span class="keyword">import</span> ThemeType</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Scatter</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Line</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Boxplot</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Scatter3D</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Pie</span><br></pre></td></tr></table></figure>

<h2 id="绘制条形图"><a href="#绘制条形图" class="headerlink" title="绘制条形图"></a>绘制条形图</h2><h3 id="柱形图"><a href="#柱形图" class="headerlink" title="柱形图"></a>柱形图</h3><p>在pyecharts库中，可使用Bar类绘制条形图或柱形图。Bar类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Bar</span>(init_opts=opts.InitOpts())</span><br><span class="line">.add_xaxis(xaxis_data)</span><br><span class="line">.add_yaxis(series_name, y_axis, is_selected=<span class="literal">True</span>, xaxis_index=<span class="literal">None</span>, yaxis_index=<span class="literal">None</span>, is_legend_hover_link=<span class="literal">True</span>, color=<span class="literal">None</span>, is_show_background=<span class="literal">False</span>, background_style=<span class="literal">None</span>, stack=<span class="literal">None</span>, bar_width=<span class="literal">None</span>, bar_max_width=<span class="literal">None</span>, bar_min_width=<span class="literal">None</span>, bar_min_height=<span class="number">0</span>, category_gap=<span class="string">&#x27;20%&#x27;</span>, gap=<span class="string">&#x27;30%&#x27;</span>, is_large=<span class="literal">False</span>, large_threshold=<span class="number">400</span>, dimensions=<span class="literal">None</span>, series_layout_by=<span class="string">&#x27;column&#x27;</span>, dataset_index=<span class="number">0</span>, is_clip=<span class="literal">True</span>, z_level=<span class="number">0</span>, z=<span class="number">2</span>, label_opts=opts.LabelOpts(), markpoint_opts=<span class="literal">None</span>, markline_opts=<span class="literal">None</span>, tooltip_opts=<span class="literal">None</span>, itemstyle_opts=<span class="literal">None</span>, encode=<span class="literal">None</span>)</span><br><span class="line">.set_series_opts()</span><br><span class="line">.set_global_opts()</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center"><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>init_opts</strong>&#x3D;<strong>opts.InitOpts</strong>()</td>
<td>表示设置初始配置项，参考5.1.1小节</td>
</tr>
<tr>
<td align="center"><strong>add_xaxis</strong>()</td>
<td>表示添加X轴数据项</td>
</tr>
<tr>
<td align="center"><strong>xaxis_data</strong></td>
<td>接收Sequence，表示X轴数据项。无默认值</td>
</tr>
<tr>
<td align="center"><strong>add_yaxis()</strong></td>
<td>表示添加Y轴数据项</td>
</tr>
<tr>
<td align="center"><strong>series_name</strong></td>
<td>接收str，表示系列名称，用于tooltip的显示，legend的图例筛选。无默认值</td>
</tr>
<tr>
<td align="center"><strong>y_axis</strong></td>
<td>接收numeric、opts.BarItem、dict型序列数据，表示系列数据。无默认值</td>
</tr>
<tr>
<td align="center"><strong>is_selected</strong></td>
<td>接收bool，表示是否选中图例。默认为True</td>
</tr>
<tr>
<td align="center"><strong>xaxis_index</strong></td>
<td>接收numeric，表示使用的x轴的index，在单个图表实例中存在多个x轴的时候有用。默认为None</td>
</tr>
<tr>
<td align="center"><strong>yaxis_index</strong></td>
<td>接收numeric，表示使用的y轴的index，在单个图表实例中存在多个y轴的时候有用。默认为None</td>
</tr>
<tr>
<td align="center"><strong>is_legend_hover_link</strong></td>
<td>接收bool，表示是否启用图例在hover时的联动高亮。默认为True</td>
</tr>
<tr>
<td align="center"><strong>color</strong></td>
<td>接收str，表示系列label颜色。默认为None</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="center"><strong>is_show_background</strong></th>
<th><strong>接收</strong>bool，表示是否显示柱条的背景色。默认为False</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>stack</strong></td>
<td>接收str，表示数据堆叠，同个类目轴上系列配置相同的stack值可以堆叠放置。默认为None</td>
</tr>
<tr>
<td align="center"><strong>bar_width</strong></td>
<td>接收types.numeric、str，表示柱条的宽度，不设置时为自适应。可以是绝对值或百分数，如40、60%。在同一坐标系上，此属性会被多个bar系列共享。此属性应设置于此坐标系中最后一个bar系列上才会生效，并且是对此坐标系中所有bar系列生效。默认为None</td>
</tr>
<tr>
<td align="center"><strong>bar_max_width</strong></td>
<td>接收types.numeric、str，表示柱条的最大宽度。默认为None</td>
</tr>
<tr>
<td align="center"><strong>bar_min_width</strong></td>
<td>接收types.numeric、str，表示柱条的最小宽度。在直角坐标系中，默认为1。否则，默认为null</td>
</tr>
<tr>
<td align="center"><strong>bar_min_height</strong></td>
<td>接收types.numeric，表示柱条最小高度，可用于防止某数据项的值过小而影响交互。默认为0</td>
</tr>
<tr>
<td align="center"><strong>category_gap</strong></td>
<td>接收numeric、str，表示同一系列的柱间距离。默认为20%</td>
</tr>
<tr>
<td align="center"><strong>set_series_opts()</strong></td>
<td>表示设置系列配置项，参考5.1.2小节</td>
</tr>
<tr>
<td align="center"><strong>set_global_opts</strong>()</td>
<td>表示设置全局配置项，参考5.1.3小节</td>
</tr>
</tbody></table>
<p><strong>示例1</strong>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar</span><br><span class="line"></span><br><span class="line">bar = Bar()</span><br><span class="line">bar.add_xaxis(xaxis_data=[<span class="string">&quot;衬衫&quot;</span>, <span class="string">&quot;羊毛衫&quot;</span>, <span class="string">&quot;雪纺衫&quot;</span>, <span class="string">&quot;裤子&quot;</span>, <span class="string">&quot;高跟鞋&quot;</span>, <span class="string">&quot;袜子&quot;</span>])</span><br><span class="line">bar.add_yaxis(series_name=<span class="string">&quot;商家A&quot;</span>, y_axis=[<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">75</span>, <span class="number">90</span>])</span><br><span class="line">bar.render_notebook()</span><br></pre></td></tr></table></figure>

<img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914170900.png"/>

<p><strong>示例2：使用条形图查看手机售卖情况</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用条形图查看手机售卖情况</span></span><br><span class="line"><span class="comment"># Bar：柱状图/条形图</span></span><br><span class="line"><span class="keyword">from</span> pyecharts.faker <span class="keyword">import</span> Faker</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar</span><br><span class="line">Faker.phones</span><br><span class="line">Faker.values()</span><br><span class="line">c = Bar()</span><br><span class="line">c.add_xaxis(Faker.phones)</span><br><span class="line">c.add_yaxis(<span class="string">&#x27;商家A&#x27;</span>,Faker.values())</span><br><span class="line">c.add_yaxis(<span class="string">&#x27;商家B&#x27;</span>,Faker.values())</span><br><span class="line">c.set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Bar-基本示例&quot;</span>, subtitle=<span class="string">&quot;我是副标题&quot;</span>))</span><br><span class="line"><span class="comment"># c.set_series_opts(label_opts=opts.LabelOpts(formatter=&#x27;&#123;b&#125;: &#123;c&#125;&#x27;))</span></span><br><span class="line">c.render(path=<span class="string">&#x27;./images/13.html&#x27;</span>)</span><br></pre></td></tr></table></figure>

<img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914185508.png"/>

<p>示例3：</p>
<p>商家A和商家B的各类商品的销售数据，如下表所示</p>
<table>
<thead>
<tr>
<th><strong>商家</strong></th>
<th><strong>衬衫</strong></th>
<th><strong>毛衣</strong></th>
<th><strong>领带</strong></th>
<th><strong>裤子</strong></th>
<th><strong>风衣</strong></th>
<th><strong>高跟鞋</strong></th>
<th><strong>袜子</strong></th>
</tr>
</thead>
<tbody><tr>
<td>商家A</td>
<td>120</td>
<td>56</td>
<td>28</td>
<td>98</td>
<td>129</td>
<td>28</td>
<td>107</td>
</tr>
<tr>
<td>商家B</td>
<td>60</td>
<td>140</td>
<td>153</td>
<td>145</td>
<td>160</td>
<td>70</td>
<td>54</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">data=pd.read_excel(<span class="string">&#x27;./data/商家A和商家B的各类商品的销售数据.xlsx&#x27;</span>,</span><br><span class="line">                   index_col=<span class="string">&#x27;商家&#x27;</span>)</span><br><span class="line">init_opts=opts.InitOpts(width=<span class="string">&#x27;1000px&#x27;</span>, height=<span class="string">&#x27;450px&#x27;</span>, theme=ThemeType.LIGHT) <span class="comment"># 主体</span></span><br><span class="line">bar = (</span><br><span class="line">    Bar(init_opts)</span><br><span class="line">    .add_xaxis(data.columns.tolist())</span><br><span class="line">    .add_yaxis(<span class="string">&#x27;商家A&#x27;</span>, data.loc[<span class="string">&#x27;商家A&#x27;</span>].tolist())</span><br><span class="line">    .add_yaxis(<span class="string">&#x27;商家B&#x27;</span>, data.loc[<span class="string">&#x27;商家B&#x27;</span>].tolist())</span><br><span class="line">    .set_global_opts(title_opts=opts.TitleOpts</span><br><span class="line">    (title=<span class="string">&#x27;商家A和商家B销售情况柱形图&#x27;</span>)))</span><br><span class="line">bar.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920201825609.png" alt="image-20220920201825609"></p>
<h3 id="条形图"><a href="#条形图" class="headerlink" title="条形图"></a>条形图</h3><p>当条目较多时，使用柱形图展示数据时将会显得较拥挤。此时，可以通过翻转X轴和Y轴来显示图形，即使用条形图展示数据。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">init_opts=opts.InitOpts(width=<span class="string">&#x27;800px&#x27;</span>, height=<span class="string">&#x27;600px&#x27;</span>)</span><br><span class="line">bar=(</span><br><span class="line">    Bar(init_opts)</span><br><span class="line">          .add_xaxis(data.columns.tolist())</span><br><span class="line">          .add_yaxis(<span class="string">&#x27;商家A&#x27;</span>, data.loc[<span class="string">&#x27;商家A&#x27;</span>].tolist())</span><br><span class="line">          .add_yaxis(<span class="string">&#x27;商家B&#x27;</span>, data.loc[<span class="string">&#x27;商家B&#x27;</span>].tolist())</span><br><span class="line">        .reversal_axis()</span><br><span class="line">         .set_series_opts(label_opts=opts.LabelOpts(position=<span class="string">&#x27;right&#x27;</span>)) <span class="comment"># label位置</span></span><br><span class="line">         .set_global_opts(title_opts=opts.TitleOpts</span><br><span class="line">                          (title=<span class="string">&#x27;商家A和商家B销售情况条形图&#x27;</span>), </span><br><span class="line">                          legend_opts=opts.LegendOpts(pos_right=<span class="string">&#x27;20%&#x27;</span>))</span><br><span class="line">     )</span><br><span class="line">bar.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920202039096.png" alt="image-20220920202039096"></p>
<h3 id="堆叠柱形图"><a href="#堆叠柱形图" class="headerlink" title="堆叠柱形图"></a>堆叠柱形图</h3><p>可以将柱形图堆叠起来显示，即堆叠柱形图。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">init_opts=opts.InitOpts(width=<span class="string">&#x27;800px&#x27;</span>, height=<span class="string">&#x27;400px&#x27;</span>) <span class="comment"># 图大小</span></span><br><span class="line">bar=(</span><br><span class="line">    Bar(init_opts)</span><br><span class="line">          .add_xaxis(data.columns.tolist())</span><br><span class="line">          .add_yaxis(<span class="string">&#x27;商家A&#x27;</span>, data.loc[<span class="string">&#x27;商家A&#x27;</span>].tolist(), stack=<span class="string">&#x27;stack1&#x27;</span>, </span><br><span class="line">                     label_opts=opts.LabelOpts(position=<span class="string">&#x27;insideTop&#x27;</span>)) <span class="comment"># label</span></span><br><span class="line">          .add_yaxis(<span class="string">&#x27;商家B&#x27;</span>, data.loc[<span class="string">&#x27;商家B&#x27;</span>].tolist(), stack=<span class="string">&#x27;stack1&#x27;</span>, </span><br><span class="line">                     label_opts=opts.LabelOpts(position=<span class="string">&#x27;insideTop&#x27;</span>))</span><br><span class="line">         .set_global_opts(title_opts=opts.TitleOpts(</span><br><span class="line">         title=<span class="string">&#x27;商家A和商家B销售情况堆叠柱形图&#x27;</span>)) <span class="comment"># title</span></span><br><span class="line">     )</span><br><span class="line">bar.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920202332137.png" alt="image-20220920202332137"></p>
<p>通过设置系列配置项，可以在柱形图上显示最大值、最小值以及平均值等标注。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">init_opts=opts.InitOpts(width=<span class="string">&#x27;800px&#x27;</span>, height=<span class="string">&#x27;400px&#x27;</span>)</span><br><span class="line">bar=(</span><br><span class="line">    Bar(init_opts)</span><br><span class="line">        .add_xaxis(data.columns.tolist())</span><br><span class="line">        .add_yaxis(<span class="string">&#x27;商家A&#x27;</span>, data.loc[<span class="string">&#x27;商家A&#x27;</span>].tolist())</span><br><span class="line">        .add_yaxis(<span class="string">&#x27;商家B&#x27;</span>, data.loc[<span class="string">&#x27;商家B&#x27;</span>].tolist())</span><br><span class="line">        .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&#x27;指定标记点的柱形图&#x27;</span>))</span><br><span class="line">        .set_series_opts(</span><br><span class="line">            label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>), <span class="comment"># label不展示</span></span><br><span class="line">            markpoint_opts=opts.MarkPointOpts(</span><br><span class="line">                data=[</span><br><span class="line">                    opts.MarkPointItem(type_=<span class="string">&#x27;max&#x27;</span>, name=<span class="string">&#x27;最大值&#x27;</span>),</span><br><span class="line">                    opts.MarkPointItem(type_=<span class="string">&#x27;min&#x27;</span>, name=<span class="string">&#x27;最小值&#x27;</span>),</span><br><span class="line">                ]</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">bar.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920202527626.png" alt="image-20220920202527626"></p>
<h2 id="绘制散点图"><a href="#绘制散点图" class="headerlink" title="绘制散点图"></a>绘制散点图</h2><p>在pyecharts库中，可使用Scatter类绘制散点图。Scatter类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Scatter</span>(init_opts=opts.InitOpts())</span><br><span class="line">.add_xaxis(xaxis_data)</span><br><span class="line">.add_yaxis(series_name, y_axis, is_selected=<span class="literal">True</span>, xaxis_index=<span class="literal">None</span>, yaxis_index=<span class="literal">None</span>, color=<span class="literal">None</span>, symbol=<span class="literal">None</span>, symbol_size=<span class="number">10</span>, symbol_rotate=<span class="literal">None</span>, label_opts=opts.LabelOpts(position=<span class="string">&#x27;right&#x27;</span>), markpoint_opts=<span class="literal">None</span>, markline_opts=<span class="literal">None</span>, markarea_opts=<span class="literal">None</span>, tooltip_opts=<span class="literal">None</span>, itemstyle_opts=<span class="literal">None</span>, encode=<span class="literal">None</span>)</span><br><span class="line">.set_series_opts()</span><br><span class="line">.set_global_opts()</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center"><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>init_opts</strong>&#x3D;opts.InitOpts()</td>
<td>表示设置初始配置项，参考5.1.1小节</td>
</tr>
<tr>
<td align="center"><strong>add_xaxis()</strong></td>
<td>表示添加X轴数据项</td>
</tr>
<tr>
<td align="center"><strong>xaxis_data</strong></td>
<td>接收Sequence，表示X轴数据项。无默认值</td>
</tr>
<tr>
<td align="center"><strong>add_yaxis()</strong></td>
<td>表示添加Y轴数据项</td>
</tr>
<tr>
<td align="center"><strong>series_name</strong></td>
<td>接收str，表示系列名称，用于tooltip的显示，legend的图例筛选。无默认值</td>
</tr>
<tr>
<td align="center"><strong>y_axis</strong></td>
<td>接收Sequence序列数据，表示系列数据。无默认值</td>
</tr>
<tr>
<td align="center"><strong>is_selected</strong></td>
<td>接收bool，表示是否选中图例。默认为True</td>
</tr>
<tr>
<td align="center"><strong>xaxis_index</strong></td>
<td>接收numeric，表示使用的x轴的index，在单个图表实例中存在多个x轴的时候有用。默认为None</td>
</tr>
<tr>
<td align="center"><strong>yaxis_index</strong></td>
<td>接收numeric，表示使用的y轴的index，在单个图表实例中存在多个y轴的时候有用。默认为None</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="center"><strong>color</strong></th>
<th>接收str，表示系列label颜色。默认为None</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>symbol</strong></td>
<td>接收str，表示标记的图形，可选的标记类型包括circle、rect、roundrect、triangle、diamond、pin、arrow、None。默认为None</td>
</tr>
<tr>
<td align="center"><strong>symbol_size</strong></td>
<td>接收numeric，表示标记的大小，可以设置成单一的数字，如10；也可以用数组分开表示宽和高，例如，[20,  10]表示标记宽为20，高为10。默认为10</td>
</tr>
<tr>
<td align="center"><strong>symbol_rotate</strong></td>
<td>接收types.numeric，表示标记的旋转角度。默认为None</td>
</tr>
<tr>
<td align="center"><strong>set_series_opts()</strong></td>
<td>表示设置系列配置项，参考5.1.2小节</td>
</tr>
<tr>
<td align="center"><strong>set_global_opts</strong>()</td>
<td>表示设置全局配置项，参考5.1.3小节</td>
</tr>
</tbody></table>
<p><strong>示例1：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">x = np.linspace(<span class="number">0</span>,<span class="number">2</span>*np.pi,<span class="number">100</span>)</span><br><span class="line">y = np.sin(x)</span><br><span class="line">y2 = np.cos(x)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#散点图</span></span><br><span class="line">point1 = (Scatter()</span><br><span class="line">.add_xaxis(xaxis_data = x)</span><br><span class="line">.add_yaxis(series_name = <span class="string">&quot;sin&quot;</span>,y_axis= y)</span><br><span class="line">.add_yaxis(series_name = <span class="string">&#x27;cos&#x27;</span>,y_axis= y2,label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>)))</span><br><span class="line"><span class="comment">#设置是否显示散点值</span></span><br><span class="line">point1.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914193702.png"></p>
<p><strong>示例2</strong></p>
<p>某小学部分学生的身高和体重的数据，如下表所示</p>
<table>
<thead>
<tr>
<th><strong>身高</strong></th>
<th><strong>0.75</strong></th>
<th><strong>0.85</strong></th>
<th><strong>0.95</strong></th>
<th><strong>1.08</strong></th>
<th><strong>1.12</strong></th>
<th><strong>1.16</strong></th>
<th><strong>1.35</strong></th>
<th><strong>1.51</strong></th>
<th><strong>1.55</strong></th>
<th><strong>1.6</strong></th>
<th><strong>1.63</strong></th>
<th><strong>1.67</strong></th>
</tr>
</thead>
<tbody><tr>
<td>体重</td>
<td><strong>10</strong></td>
<td><strong>12</strong></td>
<td><strong>15</strong></td>
<td><strong>17</strong></td>
<td><strong>20</strong></td>
<td><strong>22</strong></td>
<td><strong>35</strong></td>
<td><strong>42</strong></td>
<td><strong>48</strong></td>
<td><strong>50</strong></td>
<td><strong>51</strong></td>
<td><strong>54</strong></td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">student_data = pd.read_excel(<span class="string">&#x27;./data/学生身高和体重数据.xlsx&#x27;</span>, header=<span class="literal">None</span>)</span><br><span class="line">student_data.set_index([<span class="number">0</span>], inplace=<span class="literal">True</span>) <span class="comment"># 设置索引 将每行第一个元素作为该行索引</span></span><br><span class="line"></span><br><span class="line">c=(Scatter(init_opts=opts.InitOpts(width=<span class="string">&#x27;700px&#x27;</span>, height=<span class="string">&#x27;400px&#x27;</span>))</span><br><span class="line">   .add_xaxis(xaxis_data=student_data.loc[<span class="string">&#x27;身高&#x27;</span>].tolist())</span><br><span class="line">   .add_yaxis(<span class="string">&#x27;&#x27;</span>, y_axis=student_data.loc[<span class="string">&#x27;体重&#x27;</span>].tolist(), symbol_size=<span class="number">20</span>, </span><br><span class="line">              label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>))</span><br><span class="line">    .set_global_opts(</span><br><span class="line">        title_opts=opts.TitleOpts(title=<span class="string">&#x27;体重与身高关系散点图&#x27;</span>, subtitle=<span class="string">&#x27;&#x27;</span>), </span><br><span class="line">        xaxis_opts=opts.AxisOpts(</span><br><span class="line">            type_=<span class="string">&#x27;value&#x27;</span>, splitline_opts=opts.SplitLineOpts(is_show=<span class="literal">True</span>), </span><br><span class="line">            name=<span class="string">&#x27;身高（m）&#x27;</span>),</span><br><span class="line">        yaxis_opts=opts.AxisOpts(name=<span class="string">&#x27;体重（kg）&#x27;</span>,</span><br><span class="line">            type_=<span class="string">&#x27;value&#x27;</span>,</span><br><span class="line">            axistick_opts=opts.AxisTickOpts(is_show=<span class="literal">True</span>),  <span class="comment"># 设置坐标轴刻度 更加清晰</span></span><br><span class="line">            splitline_opts=opts.SplitLineOpts(is_show=<span class="literal">True</span>), </span><br><span class="line">        ),</span><br><span class="line">        tooltip_opts=opts.TooltipOpts(is_show=<span class="literal">False</span>), </span><br><span class="line">    ))</span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920203134501.png" alt="image-20220920203134501"></p>
<h2 id="绘制折线图"><a href="#绘制折线图" class="headerlink" title="绘制折线图"></a>绘制折线图</h2><h3 id="折线图"><a href="#折线图" class="headerlink" title="折线图"></a>折线图</h3><p>在pyecharts库中，可使用Line类绘制折线图。Line类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Line</span>(init_opts=opts.InitOpts())</span><br><span class="line">.add_xaxis(xaxis_data)</span><br><span class="line">.add_yaxis(series_name, y_axis, is_selected=<span class="literal">True</span>, is_connect_nones=<span class="literal">False</span>, xaxis_index=<span class="literal">None</span>, yaxis_index=<span class="literal">None</span>, color=<span class="literal">None</span>, is_symbol_show=<span class="literal">True</span>, symbol=<span class="literal">None</span>, symbol_size=<span class="number">4</span>, stack=<span class="literal">None</span>, is_smooth=<span class="literal">False</span>, is_clip=<span class="literal">True</span>, is_step=<span class="literal">False</span>，is_hover_animation=<span class="literal">True</span>， z_level=<span class="number">0</span>， z=<span class="number">0</span>， markpoint_opts=<span class="literal">None</span>， markline_opts=<span class="literal">None</span>， tooltip_opts=<span class="literal">None</span>， label_opts=opts.LabelOpts()， linestyle_opts=opts.LineStyleOpts()， areastyle_opts=opts.AreaStyleOpts()， itemstyle_opts=<span class="literal">None</span>)</span><br><span class="line">.set_series_opts()</span><br><span class="line">.set_global_opts()</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center"><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>init_opts&#x3D;opts.InitOpts()</strong></td>
<td>表示设置初始配置项，参考5.1.1小节</td>
</tr>
<tr>
<td align="center"><strong>add_xaxis</strong>()</td>
<td>表示添加X轴数据项</td>
</tr>
<tr>
<td align="center"><strong>xaxis_data</strong></td>
<td>接收Sequence，表示X轴数据项。无默认值</td>
</tr>
<tr>
<td align="center"><strong>add_yaxis()</strong></td>
<td>表示添加Y轴数据项</td>
</tr>
<tr>
<td align="center"><strong>series_name</strong></td>
<td>接收str，表示系列名称，用于tooltip的显示，legend的图例筛选。无默认值</td>
</tr>
<tr>
<td align="center"><strong>y_axis</strong></td>
<td>接收types.Sequence序列，表示系列数据。无默认值</td>
</tr>
<tr>
<td align="center"><strong>is_selected</strong></td>
<td>接收bool，表示是否选中图例。默认为True</td>
</tr>
<tr>
<td align="center"><strong>is_connect_nones</strong></td>
<td>接收bool，表示是否连接空数据。当含有空数据时，使用None填充。默认使False</td>
</tr>
<tr>
<td align="center"><strong>xaxis_index</strong></td>
<td>接收numeric，表示使用的x轴的index，在单个图表实例中存在多个x轴的时候有用。默认为None</td>
</tr>
<tr>
<td align="center"><strong>yaxis_index</strong></td>
<td>接收numeric，表示使用的y轴的index，在单个图表实例中存在多个y轴的时候有用。默认为None</td>
</tr>
<tr>
<td align="center"><strong>color</strong></td>
<td>接收str，表示系列label颜色。默认为None</td>
</tr>
</tbody></table>
<p><strong>示例1</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">x = np.linspace(<span class="number">0</span>,<span class="number">2</span>*np.pi,<span class="number">100</span>)</span><br><span class="line">y = np.sin(x)</span><br><span class="line">y2 = np.cos(x)</span><br><span class="line">point2 = (Line()</span><br><span class="line">          .add_xaxis(xaxis_data=x)</span><br><span class="line">          .add_yaxis(series_name=<span class="string">&#x27;sin&#x27;</span>,y_axis=y,label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>))</span><br><span class="line">          .add_yaxis(series_name=<span class="string">&#x27;cos&#x27;</span>,y_axis=y2,label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>))</span><br><span class="line">          .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;sin和cos的函数曲线&quot;</span>),</span><br><span class="line">                           tooltip_opts=opts.TooltipOpts(axis_pointer_type=<span class="string">&#x27;cross &#x27;</span>))</span><br><span class="line">          )</span><br><span class="line">point2.render_notebook()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914193917.png"></p>
<p><strong>示例2：</strong></p>
<p>商家A和商家B的各类商品的销售数据，如下表所示</p>
<table>
<thead>
<tr>
<th><strong>商家</strong></th>
<th><strong>衬衫</strong></th>
<th><strong>毛衣</strong></th>
<th><strong>领带</strong></th>
<th><strong>裤子</strong></th>
<th><strong>风衣</strong></th>
<th><strong>高跟鞋</strong></th>
<th><strong>袜子</strong></th>
</tr>
</thead>
<tbody><tr>
<td>商家A</td>
<td>120</td>
<td>56</td>
<td>28</td>
<td>98</td>
<td>129</td>
<td>28</td>
<td>107</td>
</tr>
<tr>
<td>商家B</td>
<td>60</td>
<td>140</td>
<td>153</td>
<td>145</td>
<td>160</td>
<td>70</td>
<td>54</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">line = (Line()</span><br><span class="line">   .add_xaxis(data.columns.tolist())</span><br><span class="line">   .add_yaxis(<span class="string">&#x27;商家A&#x27;</span>, data.loc[<span class="string">&#x27;商家A&#x27;</span>].tolist(), is_smooth=<span class="literal">True</span>)  <span class="comment"># 设置曲线光滑</span></span><br><span class="line">   .add_yaxis(<span class="string">&#x27;商家B&#x27;</span>, data.loc[<span class="string">&#x27;商家B&#x27;</span>].tolist())</span><br><span class="line">  .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&#x27;商家A和商家B销售情况折线图&#x27;</span>))</span><br><span class="line"><span class="comment"># 设置全局选项</span></span><br><span class="line">    )</span><br><span class="line">line.render_notebook()</span><br></pre></td></tr></table></figure>

<p>商家A的曲线设置了参数is_smooth&#x3D;True，在显示时为光滑的折线，而商家B的曲线没有进行设置，在显示时为不光滑的折线。</p>
<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920203308658.png" alt="image-20220920203308658"></p>
<h3 id="面积图"><a href="#面积图" class="headerlink" title="面积图"></a>面积图</h3><p>面积图又称区域图，强调数量随时间而变化的程度，也可用于引起人们对总值趋势的注意。Line类也可以绘制面积图，主要是在add_yaxis参数中配置区域填充样式配置项，即options.AreaStyleOpts（opacity&#x3D;0, color&#x3D;None），其中opacity参数为图形透明度，支持从0到1的数字，为0时不绘制该图形，color参数为填充的颜色。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 代码5-7</span></span><br><span class="line">line=(Line()</span><br><span class="line">   .add_xaxis(data.columns.tolist())</span><br><span class="line">   .add_yaxis(<span class="string">&#x27;商家A&#x27;</span>, data.loc[<span class="string">&#x27;商家A&#x27;</span>].tolist(), is_smooth=<span class="literal">True</span>,<span class="comment"># 设置曲线光滑</span></span><br><span class="line">              areastyle_opts=opts.AreaStyleOpts(opacity=<span class="number">0.5</span>, color=<span class="string">&#x27;red&#x27;</span>))</span><br><span class="line">              </span><br><span class="line">   .add_yaxis(<span class="string">&#x27;商家B&#x27;</span>, data.loc[<span class="string">&#x27;商家B&#x27;</span>].tolist(), </span><br><span class="line">              areastyle_opts=opts.AreaStyleOpts(opacity=<span class="number">0.6</span>, color=<span class="string">&#x27;blue&#x27;</span>))</span><br><span class="line">  .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&#x27;商家A和商家B销售情况面积图&#x27;</span>))</span><br><span class="line"><span class="comment"># 设置全局选项</span></span><br><span class="line">    )</span><br><span class="line">line.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920203629331.png" alt="image-20220920203629331"></p>
<h2 id="绘制箱线图"><a href="#绘制箱线图" class="headerlink" title="绘制箱线图"></a>绘制箱线图</h2><p>在pyecharts库中，可使用Boxplot类绘制箱线图。Boxplot类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Boxplot</span>(init_opts=opts.InitOpts())</span><br><span class="line">.add_xaxis(xaxis_data)</span><br><span class="line">.add_yaxis(series_name, y_axis, is_selected=<span class="literal">True</span>, xaxis_index=<span class="literal">None</span>, yaxis_index=<span class="literal">None</span>， label_opts=opts.LabelOpts(), markpoint_opts=opts.MarkPointOpts(), markline_opts=opts.MarkLineOpts(), tooltip_opts=<span class="literal">None</span>, itemstyle_opts=<span class="literal">None</span>)</span><br><span class="line">.set_series_opts()</span><br><span class="line">.set_global_opts()</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center"><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>init_opts&#x3D;opts.InitOpts()</strong></td>
<td>表示设置初始配置项，参考5.1.1小节</td>
</tr>
<tr>
<td align="center"><strong>add_xaxis</strong><strong>()</strong></td>
<td>表示添加X轴数据项</td>
</tr>
<tr>
<td align="center"><strong>xaxis_data</strong></td>
<td>接收Sequence，表示X轴数据项。无默认值</td>
</tr>
<tr>
<td align="center"><strong>add_yaxis()</strong></td>
<td>表示添加Y轴数据项</td>
</tr>
<tr>
<td align="center"><strong>series_name</strong></td>
<td>接收str，表示系列名称，用于tooltip的显示，legend的图例筛选。无默认值</td>
</tr>
<tr>
<td align="center"><strong>y_axis</strong></td>
<td>接收types.Sequence序列数据，表示系列数据。无默认值</td>
</tr>
<tr>
<td align="center"><strong>is_selected</strong></td>
<td>接收bool，表示是否选中图例。默认为True</td>
</tr>
<tr>
<td align="center"><strong>xaxis_index</strong></td>
<td>接收numeric，表示使用的x轴的index，在单个图表实例中存在多个x轴的时候有用。默认为None</td>
</tr>
<tr>
<td align="center"><strong>yaxis_index</strong></td>
<td>接收numeric，表示使用的y轴的index，在单个图表实例中存在多个y轴的时候有用。默认为None</td>
</tr>
<tr>
<td align="center"><strong>set_series_opts()</strong></td>
<td>表示设置系列配置项，参考5.1.2小节</td>
</tr>
<tr>
<td align="center"><strong>set_global_opts()</strong></td>
<td>表示设置全局配置项，参考5.1.3小节</td>
</tr>
</tbody></table>
<p>例：某学校3年级1班、2班、3班、4班的语文考试成绩，如表所示。</p>
<table>
<thead>
<tr>
<th align="center"><strong>班级</strong></th>
<th><strong>成绩</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center">1班</td>
<td>68，99，46，77，94，40，79，20，88，89，76，92，95</td>
</tr>
<tr>
<td align="center">2班</td>
<td>79，88，35，57，78，69，78，99，75，46，88，87，89</td>
</tr>
<tr>
<td align="center">3班</td>
<td>91，82，63，86，77，78，32，96，80，86，64，67，96</td>
</tr>
<tr>
<td align="center">4班</td>
<td>72，82，45，100，67，89，90，90，89，69，79，91，92</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 绘制考试成绩的箱线图</span></span><br><span class="line">chinese_data = pd.read_excel(<span class="string">&#x27;../data/语文考试成绩.xlsx&#x27;</span>)</span><br><span class="line">chinese_data.set_index([<span class="string">&#x27;班级&#x27;</span>], inplace=<span class="literal">True</span>)</span><br><span class="line">box=Boxplot(init_opts=opts.InitOpts(width=<span class="string">&#x27;800px&#x27;</span>, height=<span class="string">&#x27;400px&#x27;</span>))</span><br><span class="line">box.add_xaxis(<span class="built_in">list</span>(chinese_data.index))</span><br><span class="line">box.add_yaxis(<span class="string">&#x27;&#x27;</span>, box.prepare_data([chinese_data.loc[<span class="string">&#x27;1班&#x27;</span>].tolist(), </span><br><span class="line">                                    chinese_data.loc[<span class="string">&#x27;2班&#x27;</span>].tolist(), </span><br><span class="line">                                    chinese_data.loc[<span class="string">&#x27;3班&#x27;</span>].tolist(), </span><br><span class="line">                                    chinese_data.loc[<span class="string">&#x27;4班&#x27;</span>].tolist()]))</span><br><span class="line">box.set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&#x27;4个班的考试成绩箱线图&#x27;</span>))</span><br><span class="line">box.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220919111237204.png" alt="image-20220919111237204"></p>
<h2 id="绘制3D散点图"><a href="#绘制3D散点图" class="headerlink" title="绘制3D散点图"></a>绘制3D散点图</h2><p>3D散点图（3D Scatter）与基本散点图类似，区别主要是3D散点图是在三维空间的点图，基本散点图是在二维平面上的点图。</p>
<p>在pyecharts库中，可使用Scatter3D类绘制3D散点图，Scatter3D类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Scatter3D</span>(init_opts=opts.InitOpts())</span><br><span class="line">.add(series_name, data, grid3d_opacity=<span class="number">1</span>, shading=<span class="literal">None</span>, itemstyle_opts=<span class="literal">None</span>, xaxis3d_opts=opts.Axis3DOpts(), yaxis3d_opts=opts.Axis3DOpts(), zaxis3d_opts=opts.Axis3DOpts(), grid3d_opts=opts.Grid3DOpts(), encode=<span class="literal">None</span>)</span><br><span class="line">.set_series_opts()</span><br><span class="line">.set_global_opts()</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>init_opts</strong><strong>&#x3D;<strong><strong>opts.InitOpts</strong></strong>()</strong></td>
<td>表示设置初始配置项，参考5.1.1小节</td>
</tr>
<tr>
<td><strong>add()</strong></td>
<td>表示添加数据方法</td>
</tr>
<tr>
<td><strong>name</strong></td>
<td>接收str，表示图例名称。无默认值</td>
</tr>
<tr>
<td><strong>data</strong></td>
<td>接收Sequence，表示系列数据，每一行是一个数据项，每一列属于一个维度。无默认值</td>
</tr>
<tr>
<td><strong>grid3d_opacity</strong></td>
<td>3D笛卡尔坐标系组的透明度（点的透明度），默认为1，完全不透明</td>
</tr>
<tr>
<td><strong>xaxis3d_opts</strong></td>
<td>表示添加X轴数据项</td>
</tr>
<tr>
<td><strong>yaxis3d_opts</strong></td>
<td>表示添加Y轴数据项</td>
</tr>
<tr>
<td><strong>zaxis3d_opts</strong></td>
<td>表示添加Z轴数据项</td>
</tr>
<tr>
<td><strong>set_series_opts()</strong></td>
<td>表示设置系列配置项，参考5.1.2小节</td>
</tr>
<tr>
<td><strong>set_global_opts</strong><strong>()</strong></td>
<td>表示设置全局配置项，参考5.1.3小节</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<p>某运动会各运动员的最大携氧能力、体重和运动后心率部分数据如下表，详见“运动员的最大携氧能力、体重和运动后心率数据.xlsx”</p>
<table>
<thead>
<tr>
<th><strong>最大携氧能力</strong></th>
<th><strong>体重</strong></th>
<th><strong>运动后心率</strong></th>
</tr>
</thead>
<tbody><tr>
<td>55.79</td>
<td>70.47</td>
<td>150</td>
</tr>
<tr>
<td>35.00</td>
<td>70.34</td>
<td>144</td>
</tr>
<tr>
<td>42.93</td>
<td>87.65</td>
<td>162</td>
</tr>
<tr>
<td>28.30</td>
<td>89.80</td>
<td>129</td>
</tr>
<tr>
<td>40.56</td>
<td>103.02</td>
<td>143</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">player_data = pd.read_excel(<span class="string">&#x27;./data/运动员的最大携氧能力、体重和运动后心率数据.xlsx&#x27;</span>)</span><br><span class="line">player_data = [player_data[<span class="string">&#x27;体重（kg）&#x27;</span>], player_data[<span class="string">&#x27;运动后心率（次/分钟）&#x27;</span>], </span><br><span class="line">               player_data[<span class="string">&#x27;最大携氧能力（ml/min）&#x27;</span>]]</span><br><span class="line">player_data = np.array(player_data).T.tolist()</span><br><span class="line">s=(Scatter3D()</span><br><span class="line">  .add(<span class="string">&#x27;&#x27;</span>, player_data, xaxis3d_opts=opts.Axis3DOpts(name=<span class="string">&#x27;体重（kg）&#x27;</span>), <span class="comment"># 设置轴名称</span></span><br><span class="line">       yaxis3d_opts=opts.Axis3DOpts(name=<span class="string">&#x27;运动后心率（次/分钟）&#x27;</span>),</span><br><span class="line">       zaxis3d_opts=opts.Axis3DOpts(name=<span class="string">&#x27;最大携氧能力（ml/min）&#x27;</span>)</span><br><span class="line">      )</span><br><span class="line">  .set_global_opts(title_opts=opts.TitleOpts(</span><br><span class="line">      title=<span class="string">&#x27;最大携氧能力、体重和运动后心率3D散点图&#x27;</span>),</span><br><span class="line">                   visualmap_opts=opts.VisualMapOpts(range_color=[</span><br><span class="line">                       <span class="string">&#x27;#1710c0&#x27;</span>, <span class="string">&#x27;#0b9df0&#x27;</span>, <span class="string">&#x27;#00fea8&#x27;</span>, <span class="string">&#x27;#00ff0d&#x27;</span>, <span class="string">&#x27;#f5f811&#x27;</span>, <span class="string">&#x27;#f09a09&#x27;</span>,</span><br><span class="line">                       <span class="string">&#x27;#fe0300&#x27;</span>]), ))</span><br><span class="line">s.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920204118859.png" alt="image-20220920204118859"></p>
<h2 id="绘制饼图"><a href="#绘制饼图" class="headerlink" title="绘制饼图"></a>绘制饼图</h2><p>在pyecharts库中，可使用Pie类绘制饼图。Pie类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">class</span> <span class="title class_">Pie</span>(init_opts=opts.InitOpts())</span><br><span class="line">.add(series_name, data_pair, color=<span class="literal">None</span>, radius=<span class="literal">None</span>, center=<span class="literal">None</span>, rosetype=<span class="literal">None</span>, is_clockwise=<span class="literal">True</span>，label_opts=opts.LabelOpts()，tooltip_opts=<span class="literal">None</span>，itemstyle_opts=<span class="literal">None</span>，encode=<span class="literal">None</span>)</span><br><span class="line">.set_series_opts()</span><br><span class="line">.set_global_opts()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center"><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>init_opts&#x3D;opts.InitOpts()</strong></td>
<td>表示设置初始配置项，参考5.1.1小节</td>
</tr>
<tr>
<td align="center"><strong>add()</strong></td>
<td>表示添加数据</td>
</tr>
<tr>
<td align="center"><strong>series_name</strong></td>
<td>接收str，表示系列名称，用于tooltip的显示，legend的图例筛选。无默认值</td>
</tr>
<tr>
<td align="center"><strong>data_pair</strong></td>
<td>接types.Sequence序列，表示系列数据项，格式为[(key1,  value1), (key2, value2)]。无默认值</td>
</tr>
<tr>
<td align="center"><strong>color</strong></td>
<td>接收str，表示系列label颜色。默认为None</td>
</tr>
<tr>
<td align="center"><strong>radius</strong></td>
<td>接收Sequence，表示饼图的半径，数组的第一项是内半径，第二项是外半径。默认为None</td>
</tr>
<tr>
<td align="center"><strong>center</strong></td>
<td>接收Sequence，表示饼图的中心（圆心）坐标，数组的第一项是横坐标，第二项是纵坐标，默认设置成百分比。当设置成百分比时第一项是相对于容器宽度，第二项是相对于容器高度。默认为None</td>
</tr>
<tr>
<td align="center"><strong>rosetype</strong></td>
<td>接收str，表示是否展示成南丁格尔图，通过半径区分数据大小，有radius和area两种模式。radius表示扇区圆心角展现数据的百分比，半径展现数据的大小，area表示所有扇区圆心角相同，仅通过半径展现数据大小。默认为None</td>
</tr>
<tr>
<td align="center"><strong>is_clockwise</strong></td>
<td>接收bool，表示饼图的扇区是否是顺时针排布。默认值是True</td>
</tr>
<tr>
<td align="center"><strong>set_series_opts()</strong></td>
<td>表示设置系列配置项，参考5.1.2小节</td>
</tr>
<tr>
<td align="center"><strong>set_global_opts</strong><strong>()</strong></td>
<td>表示设置全局配置项，参考5.1.3小节</td>
</tr>
</tbody></table>
<p><strong>示例1</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#饼图</span></span><br><span class="line">num = [<span class="number">110</span>, <span class="number">136</span>, <span class="number">108</span>, <span class="number">48</span>, <span class="number">111</span>, <span class="number">112</span>, <span class="number">103</span>]</span><br><span class="line">lab = [<span class="string">&#x27;哈士奇&#x27;</span>, <span class="string">&#x27;萨摩耶&#x27;</span>, <span class="string">&#x27;泰迪&#x27;</span>, <span class="string">&#x27;金毛&#x27;</span>, <span class="string">&#x27;牧羊犬&#x27;</span>, <span class="string">&#x27;吉娃娃&#x27;</span>, <span class="string">&#x27;柯基&#x27;</span>]</span><br><span class="line"></span><br><span class="line">point3 = (</span><br><span class="line">    Pie(init_opts=opts.InitOpts(width=<span class="string">&#x27;720px&#x27;</span>,height=<span class="string">&#x27;320px&#x27;</span>))  <span class="comment">#定义画布大小</span></span><br><span class="line">    .add(series_name=<span class="string">&#x27;&#x27;</span>,data_pair = [(j,i) <span class="keyword">for</span> i,j <span class="keyword">in</span> <span class="built_in">zip</span>(num,lab)])</span><br><span class="line">    <span class="comment">#标签在前数据在后</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">point3.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914194036.png"></p>
<p><strong>示例2：利用绘制折线图中的数据，绘制商家B销售数据的饼图。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pie=(Pie()</span><br><span class="line">     .add(<span class="string">&#x27;&#x27;</span>, [<span class="built_in">list</span>(z) <span class="keyword">for</span> z <span class="keyword">in</span> <span class="built_in">zip</span>(data.columns.tolist(),data.loc[<span class="string">&#x27;商家B&#x27;</span>].tolist())])</span><br><span class="line">     .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&#x27;商家B销售情况饼图&#x27;</span>))</span><br><span class="line">     .set_series_opts(label_opts=opts.LabelOpts(formatter=<span class="string">&#x27;&#123;b&#125;:&#123;c&#125; (&#123;d&#125;%)&#x27;</span>)) <span class="comment"># 设置数据标签</span></span><br><span class="line">)</span><br><span class="line">pie.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920204308841.png" alt="image-20220920204308841"></p>
<p>示例3</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.faker <span class="keyword">import</span> Faker</span><br><span class="line">Faker.drinks</span><br><span class="line">Faker.values()</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Pie</span><br><span class="line">c = Pie()</span><br><span class="line">c.add(series_name=<span class="string">&#x27;&#x27;</span>,data_pair = [<span class="built_in">list</span>(z) <span class="keyword">for</span>  z <span class="keyword">in</span> <span class="built_in">zip</span>(Faker.drinks,Faker.values())])</span><br><span class="line">c.set_series_opts(label_opts=opts.LabelOpts(formatter=<span class="string">&#x27;&#123;b&#125;: &#123;c&#125;&#x27;</span>)) <span class="comment"># 系列标签会显示为x：y x为drinks y为values</span></span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs20220914224510.png"></p>
<h3 id="环图"><a href="#环图" class="headerlink" title="环图"></a>环图</h3><p>环形图（Circular Sector Graph）与饼图类似，但又有区别。环形图中间有一个空洞，每个样本用一个环来表示，样本中的每一部分数据用环中的一段表示。可以通过add函数中增加radius参数设置绘制环形图。</p>
<p><strong>示例1：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pie=(Pie(init_opts=opts.InitOpts(width=<span class="string">&#x27;810px&#x27;</span>, height=<span class="string">&#x27;400px&#x27;</span>))</span><br><span class="line">     .add(<span class="string">&#x27;&#x27;</span>, [<span class="built_in">list</span>(z) <span class="keyword">for</span> z <span class="keyword">in</span> <span class="built_in">zip</span>(data.columns.tolist(),</span><br><span class="line">                                    data.loc[<span class="string">&#x27;商家B&#x27;</span>].tolist())], radius=[<span class="number">40</span>,<span class="number">100</span>])<span class="comment">#中间空心的比例</span></span><br><span class="line">     .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&#x27;商家B销售情况环形图&#x27;</span>))</span><br><span class="line">     .set_series_opts(label_opts=opts.LabelOpts(formatter=<span class="string">&#x27;&#123;b&#125;:&#123;c&#125; (&#123;d&#125;%)&#x27;</span>))</span><br><span class="line">)</span><br><span class="line">pie.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920204436859.png" alt="image-20220920204436859"></p>
<p>由饼图可知，商家B的各类商品销量中风衣的数量占比最多，占到为20.46%，而袜子只占了6.91%。</p>
<p><strong>示例2：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#环图</span></span><br><span class="line">num = [<span class="number">110</span>, <span class="number">136</span>, <span class="number">108</span>, <span class="number">48</span>, <span class="number">111</span>, <span class="number">112</span>, <span class="number">103</span>]</span><br><span class="line">lab = [<span class="string">&#x27;哈士奇&#x27;</span>, <span class="string">&#x27;萨摩耶&#x27;</span>, <span class="string">&#x27;泰迪&#x27;</span>, <span class="string">&#x27;金毛&#x27;</span>, <span class="string">&#x27;牧羊犬&#x27;</span>, <span class="string">&#x27;吉娃娃&#x27;</span>, <span class="string">&#x27;柯基&#x27;</span>]</span><br><span class="line"></span><br><span class="line">point4 = (</span><br><span class="line">    Pie(init_opts=opts.InitOpts(width=<span class="string">&#x27;720px&#x27;</span>,height=<span class="string">&#x27;320px&#x27;</span>))  <span class="comment">#定义画布大小</span></span><br><span class="line">    .add(series_name=<span class="string">&#x27;&#x27;</span>,data_pair = [(j,i) <span class="keyword">for</span> i,j <span class="keyword">in</span> <span class="built_in">zip</span>(num,lab)],radius=[<span class="string">&#x27;40%&#x27;</span>,<span class="string">&#x27;75%&#x27;</span>])</span><br><span class="line">    <span class="comment">#标签在前数据在后   radius = [&#x27;a&#x27;,&#x27;b&#x27;] 前面是内半径 后面是外半径 默认都是按照百分比 默认是width和height里较小的一半</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">point4.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914194117.png"></p>
<h3 id="环形玫瑰图"><a href="#环形玫瑰图" class="headerlink" title="环形玫瑰图"></a>环形玫瑰图</h3><p>玫瑰图（Rose Graph）又称为极面积图，使用圆弧的半径长短表示数据量。读者可以通过Pie类绘制玫瑰图，只需要在add函数中增加rosetype参数设置即可完成玫瑰图的绘制。</p>
<p><strong>示例1：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pie=(Pie(init_opts=opts.InitOpts(width=<span class="string">&#x27;810px&#x27;</span>, height=<span class="string">&#x27;400px&#x27;</span>))</span><br><span class="line">     .add(<span class="string">&#x27;&#x27;</span>, [<span class="built_in">list</span>(z) <span class="keyword">for</span> z <span class="keyword">in</span> <span class="built_in">zip</span>(data.columns.tolist(),</span><br><span class="line">                                    data.loc[<span class="string">&#x27;商家B&#x27;</span>].tolist())], </span><br><span class="line">          rosetype=<span class="string">&#x27;radius&#x27;</span>, radius=[<span class="number">30</span>, <span class="number">100</span>]) <span class="comment"># 空心比例</span></span><br><span class="line">     .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&#x27;商家B销售情况玫瑰图&#x27;</span>))</span><br><span class="line">     .set_series_opts(label_opts=opts.LabelOpts(formatter=<span class="string">&#x27;&#123;b&#125;:&#123;c&#125; (&#123;d&#125;%)&#x27;</span>))</span><br><span class="line">)</span><br><span class="line">pie.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920204612350.png" alt="image-20220920204612350"></p>
<p><strong>示例2：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">num = [<span class="number">110</span>, <span class="number">136</span>, <span class="number">108</span>, <span class="number">48</span>, <span class="number">111</span>, <span class="number">112</span>, <span class="number">103</span>]</span><br><span class="line">lab = [<span class="string">&#x27;哈士奇&#x27;</span>, <span class="string">&#x27;萨摩耶&#x27;</span>, <span class="string">&#x27;泰迪&#x27;</span>, <span class="string">&#x27;金毛&#x27;</span>, <span class="string">&#x27;牧羊犬&#x27;</span>, <span class="string">&#x27;吉娃娃&#x27;</span>, <span class="string">&#x27;柯基&#x27;</span>]</span><br><span class="line"></span><br><span class="line">point6 = (</span><br><span class="line">    Pie(init_opts=opts.InitOpts(width=<span class="string">&#x27;720px&#x27;</span>, height=<span class="string">&#x27;320px&#x27;</span>))</span><br><span class="line">    .add(series_name=<span class="string">&#x27;&#x27;</span>, data_pair=[(i, j)<span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">zip</span>(lab, num)],</span><br><span class="line">         radius=[<span class="string">&quot;30%&quot;</span>, <span class="string">&quot;75%&quot;</span>],</span><br><span class="line">         center=[<span class="string">&quot;25%&quot;</span>, <span class="string">&quot;50%&quot;</span>],</span><br><span class="line">         rosetype=<span class="string">&quot;radius&quot;</span>,</span><br><span class="line">        )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">point6.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs20220914194337.png"></p>
<h3 id="玫瑰图"><a href="#玫瑰图" class="headerlink" title="玫瑰图"></a>玫瑰图</h3><p><strong>示例1</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#玫瑰图</span></span><br><span class="line">num = [<span class="number">110</span>, <span class="number">136</span>, <span class="number">108</span>, <span class="number">48</span>, <span class="number">111</span>, <span class="number">112</span>, <span class="number">103</span>]</span><br><span class="line">lab = [<span class="string">&#x27;哈士奇&#x27;</span>, <span class="string">&#x27;萨摩耶&#x27;</span>, <span class="string">&#x27;泰迪&#x27;</span>, <span class="string">&#x27;金毛&#x27;</span>, <span class="string">&#x27;牧羊犬&#x27;</span>, <span class="string">&#x27;吉娃娃&#x27;</span>, <span class="string">&#x27;柯基&#x27;</span>]</span><br><span class="line"></span><br><span class="line">point5 = (</span><br><span class="line">    Pie(init_opts=opts.InitOpts(width=<span class="string">&#x27;720px&#x27;</span>,height=<span class="string">&#x27;320px&#x27;</span>))  <span class="comment">#定义画布大小</span></span><br><span class="line">    .add(series_name=<span class="string">&#x27;&#x27;</span>,data_pair = [(j,i) <span class="keyword">for</span> i,j <span class="keyword">in</span> <span class="built_in">zip</span>(num,lab)],rosetype=<span class="string">&#x27;radius&#x27;</span>)</span><br><span class="line">    <span class="comment">#标签在前数据在后   radius = [&#x27;a&#x27;,&#x27;b&#x27;] 前面是内半径 后面是外半径 默认都是按照百分比 默认是width和height里较小的一半</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">point5.render(path=<span class="string">&#x27;./images/five.html&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914194222.png"></p>
<h1 id="绘制交互式高级图形"><a href="#绘制交互式高级图形" class="headerlink" title="绘制交互式高级图形"></a>绘制交互式高级图形</h1><p><strong>导入相关库</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar, Line</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Scatter</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Funnel</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> HeatMap</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> WordCloud</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Graph</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Sankey</span><br></pre></td></tr></table></figure>



<h2 id="绘制层叠多图"><a href="#绘制层叠多图" class="headerlink" title="绘制层叠多图"></a>绘制层叠多图</h2><p>在同一个绘图区域，绘制不同类型的图表，即层叠多图，如同时绘制散点图和折线图、条形图和折线图等。在pyecharts库中，使用overlap()方法将多个图形叠加在一个视图区。</p>
<p>示例：</p>
<p>某省份1<del>12月份的降水量、蒸发量、平均温度部分数据如表所示。详见“1</del>12月份的降水量、蒸发量、平均温度数据.xlsx”</p>
<table>
<thead>
<tr>
<th><strong>月份</strong></th>
<th><strong>蒸发量</strong></th>
<th><strong>降水量</strong></th>
<th><strong>平均温度</strong></th>
</tr>
</thead>
<tbody><tr>
<td>1月</td>
<td>2</td>
<td>2.6</td>
<td>2</td>
</tr>
<tr>
<td>2月</td>
<td>4.9</td>
<td>5.9</td>
<td>2.2</td>
</tr>
<tr>
<td>3月</td>
<td>7</td>
<td>9</td>
<td>3.3</td>
</tr>
<tr>
<td>4月</td>
<td>23.2</td>
<td>26.4</td>
<td>4.5</td>
</tr>
<tr>
<td>5月</td>
<td>25.6</td>
<td>28.7</td>
<td>6.3</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">data=pd.read_excel(<span class="string">&#x27;./data/1~12月份的降水量、蒸发量、平均温度数据.xlsx&#x27;</span>)</span><br><span class="line">bar = (</span><br><span class="line">    Bar()</span><br><span class="line">    .add_xaxis(data[<span class="string">&#x27;月份&#x27;</span>].tolist())</span><br><span class="line">    .add_yaxis(<span class="string">&#x27;蒸发量&#x27;</span>, data[<span class="string">&#x27;蒸发量&#x27;</span>].tolist())</span><br><span class="line">    .add_yaxis(<span class="string">&#x27;降水量&#x27;</span>, data[<span class="string">&#x27;降水量&#x27;</span>].tolist())</span><br><span class="line">    .set_series_opts(label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>)) <span class="comment"># 数据标签不展示</span></span><br><span class="line">    .set_global_opts(</span><br><span class="line">        xaxis_opts=opts.AxisOpts(name=<span class="string">&#x27;月份&#x27;</span>,name_location = <span class="string">&#x27;center&#x27;</span>,name_gap = <span class="number">25</span>), <span class="comment">#设置x轴</span></span><br><span class="line">        title_opts=opts.TitleOpts(title=<span class="string">&#x27;叠加条形图和折线图&#x27;</span>),<span class="comment">#标题</span></span><br><span class="line">        yaxis_opts=opts.AxisOpts(</span><br><span class="line">            name=<span class="string">&#x27;蒸发量/降水量（mm）&#x27;</span>,name_location = <span class="string">&#x27;center&#x27;</span>, name_gap = <span class="number">50</span>,</span><br><span class="line">            axislabel_opts=opts.LabelOpts(formatter=<span class="string">&#x27;&#123;value&#125;&#x27;</span>)),<span class="comment"># y轴 </span></span><br><span class="line">    )</span><br><span class="line">    .extend_axis( <span class="comment"># 添加轴</span></span><br><span class="line">        yaxis=opts.AxisOpts( <span class="comment"># y轴</span></span><br><span class="line">            name=<span class="string">&#x27;平均温度（℃）&#x27;</span>,name_location = <span class="string">&#x27;center&#x27;</span>,name_gap = <span class="number">55</span>,</span><br><span class="line">            axislabel_opts=opts.LabelOpts(formatter=<span class="string">&#x27;&#123;value&#125;&#x27;</span>), interval=<span class="number">2.5</span></span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line">line = Line().add_xaxis(data[<span class="string">&#x27;月份&#x27;</span>].tolist()).add_yaxis(<span class="string">&#x27;平均温度&#x27;</span>, </span><br><span class="line">                                                       data[<span class="string">&#x27;平均温度&#x27;</span>].tolist(), </span><br><span class="line">                                                       yaxis_index=<span class="number">1</span>)</span><br><span class="line">bar.overlap(line)</span><br><span class="line">bar.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920205705979.png" alt="image-20220920205705979"></p>
<h2 id="绘制漏斗图"><a href="#绘制漏斗图" class="headerlink" title="绘制漏斗图"></a>绘制漏斗图</h2><p>在pyecharts库中，可使用Funnel类绘制漏斗图。Funnel类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Funnel</span>(init_opts=opts.InitOpts())</span><br><span class="line">.add(series_name, data_pair, is_selected=<span class="literal">True</span>, color=<span class="literal">None</span>, sort_=<span class="string">&#x27;descending&#x27;</span>, gap=<span class="number">0</span>, label_opts=opts.LabelOpts(), tooltip_opts=<span class="literal">None</span>, itemstyle_opts=<span class="literal">None</span>)</span><br><span class="line">.set_series_opts()</span><br><span class="line">.set_global_opts()</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center"><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>init_opts</strong>&#x3D;opts.InitOpts()</td>
<td>表示设置初始配置项，参考5.1.1小节</td>
</tr>
<tr>
<td align="center"><strong>add()</strong></td>
<td>表示添加数据</td>
</tr>
<tr>
<td align="center"><strong>series_name</strong></td>
<td>接收str，表示系列名称，用于tooltip的显示，legend的图例筛选。无默认值</td>
</tr>
<tr>
<td align="center"><strong>data_pair</strong></td>
<td>接收Sequence，表示数据项，格式为[(key1,  value1), (key2, value2)]。无默认值</td>
</tr>
<tr>
<td align="center"><strong>is_selected</strong></td>
<td>接收bool，表示是否选中图例。默认为True</td>
</tr>
<tr>
<td align="center"><strong>color</strong></td>
<td>接收str，表示系列label颜色。默认为None</td>
</tr>
<tr>
<td align="center"><strong>sort_</strong></td>
<td>接收str，表示数据排序，可以取ascending、descending、None（按data顺序）。默认为descending</td>
</tr>
<tr>
<td align="center"><strong>gap</strong></td>
<td>接收numeric，表示数据图形间距。默认为0</td>
</tr>
<tr>
<td align="center"><strong>set_series_opts</strong>()</td>
<td>表示设置系列配置项，参考5.1.2小节</td>
</tr>
<tr>
<td align="center"><strong>set_global_opts</strong>()</td>
<td>表示设置全局配置项，参考5.1.3小节</td>
</tr>
</tbody></table>
<p><strong>示例1：</strong></p>
<p>下表是某淘宝店铺的订单转化率统计数据，根据数据绘制漏斗图。</p>
<table>
<thead>
<tr>
<th><strong>网购环节</strong></th>
<th><strong>人数</strong></th>
</tr>
</thead>
<tbody><tr>
<td>浏览商品</td>
<td>2000</td>
</tr>
<tr>
<td>加入购物车</td>
<td>900</td>
</tr>
<tr>
<td>生成订单</td>
<td>400</td>
</tr>
<tr>
<td>支付订单</td>
<td>320</td>
</tr>
<tr>
<td>完成交易</td>
<td>300</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">data=pd.read_excel(<span class="string">&#x27;./data/某淘宝店铺的订单转化率统计数据.xlsx&#x27;</span>)</span><br><span class="line">x_data = data[<span class="string">&#x27;网购环节&#x27;</span>].tolist()</span><br><span class="line">y_data= data[<span class="string">&#x27;人数&#x27;</span>].tolist()</span><br><span class="line">data = [[x_data[i], y_data[i]] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(x_data))]</span><br><span class="line">funnel=(Funnel()</span><br><span class="line">    .add(<span class="string">&#x27;&#x27;</span>, data_pair=data,label_opts=opts. LabelOpts(</span><br><span class="line">        position=<span class="string">&#x27;inside&#x27;</span>, formatter=<span class="string">&quot;&#123;b&#125;:&#123;d&#125;%&quot;</span>), gap=<span class="number">2</span>,</span><br><span class="line">        tooltip_opts=opts.TooltipOpts(trigger=<span class="string">&#x27;item&#x27;</span>),</span><br><span class="line">        itemstyle_opts=opts.ItemStyleOpts(border_color=<span class="string">&#x27;#fff&#x27;</span>, border_width=<span class="number">1</span>))</span><br><span class="line">    .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&#x27;某淘宝店铺的订单转化率漏斗图&#x27;</span>),</span><br><span class="line">                     legend_opts=opts.LegendOpts(pos_left=<span class="string">&#x27;40%&#x27;</span>)))</span><br><span class="line">funnel.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920210259665.png" alt="image-20220920210259665"></p>
<p><strong>示例2：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Funnel</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./data/funnel.json&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = json.load(f)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(data)</span></span><br><span class="line"><span class="comment"># &#123;&#x27;data&#x27;: [&#123;&#x27;action&#x27;: &#x27;浏览商品&#x27;, &#x27;pv&#x27;: 50000&#125;,</span></span><br><span class="line"><span class="comment"># &#123;&#x27;action&#x27;: &#x27;放入购物车&#x27;, &#x27;pv&#x27;: 35000&#125;,</span></span><br><span class="line"><span class="comment"># &#123;&#x27;action&#x27;: &#x27;生成订单&#x27;, &#x27;pv&#x27;: 25000&#125;,</span></span><br><span class="line"><span class="comment"># &#123;&#x27;action&#x27;: &#x27;支付订单&#x27;, &#x27;pv&#x27;: 15000&#125;,</span></span><br><span class="line"><span class="comment"># &#123;&#x27;action&#x27;: &#x27;完成交易&#x27;, &#x27;pv&#x27;: 8000&#125;]&#125;</span></span><br><span class="line">data_ful = [(i[<span class="string">&#x27;action&#x27;</span>],i[<span class="string">&#x27;pv&#x27;</span>]) <span class="keyword">for</span> i <span class="keyword">in</span> data[<span class="string">&#x27;data&#x27;</span>]]</span><br><span class="line"><span class="comment"># print(data_ful)</span></span><br><span class="line"><span class="comment"># [(&#x27;浏览商品&#x27;, 50000), (&#x27;放入购物车&#x27;, 35000), (&#x27;生成订单&#x27;, 25000), (&#x27;支付订单&#x27;, 15000), (&#x27;完成交易&#x27;, 8000)]</span></span><br><span class="line">c = Funnel()</span><br><span class="line">c.add(<span class="string">&#x27;人数&#x27;</span>,data_ful)</span><br><span class="line">c.set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&#x27;Funnel 漏斗图&#x27;</span>))</span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220914171936406.png" alt="image-20220914171936406"></p>
<h2 id="绘制热力图"><a href="#绘制热力图" class="headerlink" title="绘制热力图"></a>绘制热力图</h2><p>在pyecharts库中，可使用HeatMap类绘制热力图。HeatMap类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">HeatMap</span>(init_opts=opts.InitOpts())</span><br><span class="line">.add_xaxis()</span><br><span class="line">.add_yaxis(series_name, yaxis_data, value, is_selected=<span class="literal">True</span>, xaxis_index=<span class="literal">None</span>, yaxis_index=<span class="literal">None</span>, label_opts=opts.LabelOpts(), markpoint_opts=<span class="literal">None</span>, markline_opts=<span class="literal">None</span>, tooltip_opts=<span class="literal">None</span>, itemstyle_opts=<span class="literal">None</span>)</span><br><span class="line">.set_series_opts()</span><br><span class="line">.set_global_opts()</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center"><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>init_opts</strong>&#x3D;opts.InitOpts()</td>
<td>表示设置初始配置项，参考5.1.1小节</td>
</tr>
<tr>
<td align="center"><strong>add_xaxis</strong>()</td>
<td>表示添加x轴数据</td>
</tr>
<tr>
<td align="center"><strong>add_yaxis</strong>()</td>
<td>表示添加y轴数据</td>
</tr>
<tr>
<td align="center"><strong>series_name</strong></td>
<td>接收str，表示系列名称，用于tooltip的显示，legend的图例筛选。无默认值</td>
</tr>
<tr>
<td align="center"><strong>yaxis_data</strong></td>
<td>接收types.Sequence，表示y坐标轴数据项。无默认值</td>
</tr>
<tr>
<td align="center"><strong>value</strong></td>
<td>接收types.Sequence，表示系列数据项。无默认值</td>
</tr>
<tr>
<td align="center"><strong>is_selected</strong></td>
<td>接收bool，表示是否选中图例。默认为True</td>
</tr>
<tr>
<td align="center"><strong>xaxis_index</strong></td>
<td>接收numeric，表示使用的x轴的index，在单个图表实例中存在多个x轴的时候有用。默认为None</td>
</tr>
<tr>
<td align="center"><strong>yaxis_index</strong></td>
<td>接收numeric，表示使用的y轴的index，在单个图表实例中存在多个y轴的时候有用。默认为None</td>
</tr>
<tr>
<td align="center"><strong>set_series_opts()</strong></td>
<td>表示设置系列配置项，参考5.1.2小节</td>
</tr>
<tr>
<td align="center"><strong>set_global_opts()</strong></td>
<td>表示设置全局配置项，参考5.1.3小节</td>
</tr>
</tbody></table>
<p>示例：</p>
<p>某网站某周一天24小时的点击量部分数据，详见数据文件（heatmap.xlsx），请根据数据绘制热力图。</p>
<table>
<thead>
<tr>
<th><strong>时间</strong></th>
<th><strong>星期一</strong></th>
<th><strong>星期二</strong></th>
<th><strong>星期三</strong></th>
<th><strong>星期四</strong></th>
<th><strong>星期五</strong></th>
<th><strong>星期六</strong></th>
<th><strong>星期日</strong></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>3</td>
<td>63</td>
<td>3</td>
<td>50</td>
<td>78</td>
<td>74</td>
<td>92</td>
</tr>
<tr>
<td>2</td>
<td>43</td>
<td>40</td>
<td>5</td>
<td>39</td>
<td>9</td>
<td>32</td>
<td>46</td>
</tr>
<tr>
<td>3</td>
<td>57</td>
<td>55</td>
<td>71</td>
<td>39</td>
<td>26</td>
<td>3</td>
<td>48</td>
</tr>
<tr>
<td>4</td>
<td>43</td>
<td>73</td>
<td>86</td>
<td>37</td>
<td>36</td>
<td>96</td>
<td>52</td>
</tr>
<tr>
<td>5</td>
<td>99</td>
<td>58</td>
<td>80</td>
<td>97</td>
<td>30</td>
<td>53</td>
<td>37</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">data = pd.read_excel(<span class="string">&#x27;./data/heatmap.xlsx&#x27;</span>, index_col=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">y_data = <span class="built_in">list</span>(data.columns)</span><br><span class="line">x_data = <span class="built_in">list</span>(data.index)</span><br><span class="line">values = data.iloc[: , :].values.tolist()</span><br><span class="line">value = [[i, j, values[i][j]]<span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(x_data)) <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(y_data)) ]</span><br><span class="line">heatmap = (</span><br><span class="line">    HeatMap()</span><br><span class="line">    .add_xaxis(x_data)</span><br><span class="line">    .add_yaxis(</span><br><span class="line">        <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        y_data,</span><br><span class="line">        value,</span><br><span class="line">        label_opts=opts.LabelOpts(is_show=<span class="literal">True</span>, position=<span class="string">&#x27;inside&#x27;</span>),</span><br><span class="line">    )</span><br><span class="line">    .set_global_opts(</span><br><span class="line">        title_opts=opts.TitleOpts(title=<span class="string">&#x27;网站点击量热力图&#x27;</span>),</span><br><span class="line">        visualmap_opts=opts.VisualMapOpts(pos_bottom=<span class="string">&#x27;center&#x27;</span>), </span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line">heatmap.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920211358550.png" alt="image-20220920211358550"></p>
<h2 id="绘制词云图"><a href="#绘制词云图" class="headerlink" title="绘制词云图"></a>绘制词云图</h2><p>在pyecharts库中，可使用WordCloud类绘制词云图。WordCloud类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">WordCloud</span>(init_opts=opts.InitOpts())</span><br><span class="line">.add(series_name, data_pair, shape=<span class="string">&#x27;circle&#x27;</span>, mask_image=<span class="literal">None</span>, word_gap=<span class="number">20</span>, word_size_range=<span class="literal">None</span>, rotate_step=<span class="number">45</span>, pos_left=<span class="literal">None</span>, pos_top=<span class="literal">None</span>, pos_right=<span class="literal">None</span>, pos_bottom=<span class="literal">None</span>, width=<span class="literal">None</span>, height=<span class="literal">None</span>, is_draw_out_of_bound=<span class="literal">False</span>, tooltip_opts=<span class="literal">None</span>, textstyle_opts=<span class="literal">None</span>, emphasis_shadow_blur=<span class="literal">None</span>, emphasis_shadow_color=<span class="literal">None</span>)</span><br><span class="line">.set_series_opts()</span><br><span class="line">.set_global_opts()</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center"><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>init_opts</strong>&#x3D;opts.InitOpts()</td>
<td>表示设置初始配置项，参考5.1.1小节</td>
</tr>
<tr>
<td align="center"><strong>add()</strong></td>
<td>表示添加数据</td>
</tr>
<tr>
<td align="center"><strong>series_name</strong></td>
<td>接收str，表示系列名称，用于tooltip的显示，legend的图例筛选。无默认值</td>
</tr>
<tr>
<td align="center"><strong>data_pair</strong></td>
<td>接收Sequence，表示系列数据项，形如[(word1,  count1), (word2, count2)]。无默认值</td>
</tr>
<tr>
<td align="center"><strong>shape</strong></td>
<td>接收str，表示词云图轮廓，可选circle、cardioid、diamond、triangle-forward、triangle、pentagon。默认是circle</td>
</tr>
<tr>
<td align="center"><strong>mask_image</strong></td>
<td>接收str，表示自定义的图片（目前支持jpg、jpeg、png、ico的格式）。默认为None</td>
</tr>
<tr>
<td align="center"><strong>word_gap</strong></td>
<td>接收numeric，表示单词间隔。默认为20</td>
</tr>
<tr>
<td align="center"><strong>word_size_range</strong></td>
<td>接收numeric序列，表示单词字体大小范围。默认为None</td>
</tr>
<tr>
<td align="center"><strong>rotate_step</strong></td>
<td>接收numeric，表示旋转单词角度。默认为45</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="center"><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>pos_left</strong></td>
<td>接收str，表示距离左侧的距离。默认为None</td>
</tr>
<tr>
<td align="center"><strong>pos_top</strong></td>
<td>接收str，表示距离顶部的距离。默认为None</td>
</tr>
<tr>
<td align="center"><strong>pos_right</strong></td>
<td>接收str，表示距离右侧的距离。默认为None</td>
</tr>
<tr>
<td align="center"><strong>pos_bottom</strong></td>
<td>接收str，表示距离底部的距离。默认为None</td>
</tr>
<tr>
<td align="center"><strong>width</strong></td>
<td>接收str，表示词云图的宽度。默认为None</td>
</tr>
<tr>
<td align="center"><strong>height</strong></td>
<td>接收str，表示词云图的高度。默认为None</td>
</tr>
<tr>
<td align="center"><strong>is_draw_out_of_bound</strong></td>
<td>接收bool，表示是否允许词云图的数据展示在画布范围之外。默认为False</td>
</tr>
<tr>
<td align="center"><strong>set_series_opts</strong>()</td>
<td>表示设置系列配置项，参考5.1.2小节</td>
</tr>
<tr>
<td align="center"><strong>set_global_opts</strong>()</td>
<td>表示设置全局配置项，参考5.1.3小节</td>
</tr>
</tbody></table>
<p>在绘制词云图前，需要统计各词的词频。例如，附件worldcloud.csv统计的部分宋词词频数据，绘制的词云图。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">data_read = pd.read_csv(<span class="string">&#x27;./data/worldcloud.csv&#x27;</span>, encoding=<span class="string">&#x27;gbk&#x27;</span>)</span><br><span class="line">words = <span class="built_in">list</span>(data_read[<span class="string">&#x27;词语&#x27;</span>].values)</span><br><span class="line">num = <span class="built_in">list</span>(data_read[<span class="string">&#x27;频数&#x27;</span>].values)</span><br><span class="line">data = [k <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">zip</span>(words, num)]</span><br><span class="line">data=[(i,<span class="built_in">str</span>(j)) <span class="keyword">for</span> i, j <span class="keyword">in</span> data]</span><br><span class="line">wordcloud = (WordCloud()</span><br><span class="line">           .add(series_name=<span class="string">&#x27;词统计&#x27;</span>, data_pair=data, word_size_range=[<span class="number">10</span>, <span class="number">100</span>])</span><br><span class="line">           .set_global_opts(title_opts=opts.TitleOpts(</span><br><span class="line">               title=<span class="string">&#x27;部分宋词词频词云图&#x27;</span>, title_textstyle_opts=</span><br><span class="line">               opts.TextStyleOpts(font_size=<span class="number">23</span>)),</span><br><span class="line">                            tooltip_opts=opts.TooltipOpts(is_show=<span class="literal">True</span>))</span><br><span class="line">      )</span><br><span class="line">wordcloud.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920212000272.png" alt="image-20220920212000272"></p>
<p><strong>示例2</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span>  WordCloud</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./data/WordCloud.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = json.load(f)</span><br><span class="line"><span class="built_in">print</span>(data)</span><br><span class="line">c = WordCloud()</span><br><span class="line">c.add(<span class="string">&#x27;&#x27;</span>,data[<span class="string">&#x27;words&#x27;</span>])</span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914185435.png"/>



<h2 id="绘制关系图"><a href="#绘制关系图" class="headerlink" title="绘制关系图"></a>绘制关系图</h2><p>在pyecharts库中，可使用Graph类绘制关系图。Graph类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Graph</span>(init_opts=opts.InitOpts())</span><br><span class="line">.add(series_name, nodes, links, categories=<span class="literal">None</span>, is_selected=<span class="literal">True</span>, is_focusnode=<span class="literal">True</span>, is_roam=<span class="literal">True</span>, is_draggable=<span class="literal">False</span>, is_rotate_label=<span class="literal">False</span>, layout=<span class="string">&#x27;force&#x27;</span>, symbol=<span class="literal">None</span>, symbol_size=<span class="number">10</span>, edge_length=<span class="number">50</span>, gravity=<span class="number">0.2</span>, repulsion=<span class="number">50</span>, edge_label=<span class="literal">None</span>, edge_symbol=<span class="literal">None</span>, edge_symbol_size=<span class="number">10</span>, label_opts=opts.LabelOpts(), linestyle_opts=opts.LineStyleOpts(), tooltip_opts=<span class="literal">None</span>, itemstyle_opts=<span class="literal">None</span>)</span><br><span class="line">.set_series_opts()</span><br><span class="line">.set_global_opts()</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center"><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>init_opts</strong>&#x3D;opts.InitOpts()</td>
<td>表示设置初始配置项，参考5.1.1小节</td>
</tr>
<tr>
<td align="center"><strong>add()</strong></td>
<td>表示添加数据</td>
</tr>
<tr>
<td align="center"><strong>series_name</strong></td>
<td>接收str，表示系列名称，用于tooltip的显示，legend的图例筛选。无默认值</td>
</tr>
<tr>
<td align="center"><strong>nodes</strong></td>
<td>接收Sequence，表示关系图节点数据项列表。无默认值</td>
</tr>
<tr>
<td align="center"><strong>links</strong></td>
<td>接收Sequence，表示关系图节点间关系数据项列表。无默认值</td>
</tr>
<tr>
<td align="center"><strong>categories</strong></td>
<td>接收Sequence，表示关系图节点分类的类目列表。默认为None</td>
</tr>
<tr>
<td align="center"><strong>is_selected</strong></td>
<td>接收bool，表示是否选中图例。默认为True</td>
</tr>
<tr>
<td align="center"><strong>is_roam</strong></td>
<td>接收bool，表示是否开启鼠标缩放和平移漫游。默认值是True</td>
</tr>
<tr>
<td align="center"><strong>is_draggable</strong></td>
<td>接收bool，表示节点是否可拖拽，只在使用力引导布局的时候有用。默认为False</td>
</tr>
<tr>
<td align="center"><strong>is_rotate_label</strong></td>
<td>接收bool，表示是否旋转标签。默认值False</td>
</tr>
<tr>
<td align="center"><strong>layout</strong></td>
<td>接收str，表示图的布局，可选none、circular、force。None表示不采用任何布局，使用节点中提供的x、y作为节点的位置；circular表示采用环形布局；force表示采用力引导布局。默认为force</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="center"><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>symbol</strong></td>
<td>接收str，表示关系图节点标记的图形，提供的标记类型包括circle、rect、roundrect、triangle、diamond、pin、arrow、None。默认为None</td>
</tr>
<tr>
<td align="center"><strong>symbol_size</strong></td>
<td>接收types.numeric，表示关系图节点标记的大小，可以设置单一的数字，如10；也可以用数组分开表示宽和高，例如，[20,  10]表示标记宽为20，高为10。默认为10</td>
</tr>
<tr>
<td align="center"><strong>edge_length</strong></td>
<td>接收numeric，表示边的两个节点之间的距离。默认为50</td>
</tr>
<tr>
<td align="center"><strong>gravity</strong></td>
<td>接收numeric，表示节点受到的向中心的引力因子，该值越大节点越往中心点靠拢。默认为0.2</td>
</tr>
<tr>
<td align="center"><strong>repulsion</strong></td>
<td>接收numeric，表示节点之间的斥力因子。默认为50</td>
</tr>
<tr>
<td align="center"><strong>edge_label</strong></td>
<td>接收types.Label，表示Graph图节点边的Label配置（即在边上显示数据或标注的配置）。默认为None</td>
</tr>
<tr>
<td align="center"><strong>edge_symbol</strong></td>
<td>接收str，表示边两端的标记类型，可以是一个数组分别指定两端，也可以是单个统一指定。默认为None</td>
</tr>
<tr>
<td align="center"><strong>edge_symbol_size</strong></td>
<td>接收numeric，表示边两端的标记大小，可以是一个数组分别指定两端，也可以是单个统一指定。默认为10</td>
</tr>
<tr>
<td align="center"><strong>set_series_opts</strong>()</td>
<td>表示设置系列配置项，参考5.1.2小节</td>
</tr>
<tr>
<td align="center"><strong>set_global_opts</strong>()</td>
<td>表示设置全局配置项，参考5.1.3小节</td>
</tr>
</tbody></table>
<p><strong>示例1</strong></p>
<p>某公司销售部的部分员工微信好友关系数据如下表所示。</p>
<table>
<thead>
<tr>
<th><strong>目标人物</strong></th>
<th><strong>其它人物</strong></th>
<th><strong>关系</strong></th>
</tr>
</thead>
<tbody><tr>
<td>周建</td>
<td>[贺芳, 吴大, 张三,  刘霞]</td>
<td>[夫妻,同事,同学,同学]</td>
</tr>
<tr>
<td>黄婧</td>
<td>[张三, 刘霞]</td>
<td>[朋友,同事]</td>
</tr>
<tr>
<td>文华</td>
<td>[刘霞, 吴大]</td>
<td>[夫妻,同事]</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">nodes = [opts.GraphNode(name=<span class="string">&#x27;张三&#x27;</span>, symbol=<span class="string">&#x27;circle&#x27;</span>, symbol_size=<span class="number">10</span>),</span><br><span class="line">         opts.GraphNode(name=<span class="string">&#x27;吴大&#x27;</span>, symbol=<span class="string">&#x27;pin&#x27;</span>, symbol_size=<span class="number">10</span>),</span><br><span class="line">         opts.GraphNode(name=<span class="string">&#x27;贺芳&#x27;</span>, symbol=<span class="string">&#x27;pin&#x27;</span>, symbol_size=<span class="number">10</span>),</span><br><span class="line">         opts.GraphNode(name=<span class="string">&#x27;刘霞&#x27;</span>, symbol=<span class="string">&#x27;circle&#x27;</span>, symbol_size=<span class="number">10</span>),</span><br><span class="line">         opts.GraphNode(name=<span class="string">&#x27;黄婧&#x27;</span>, symbol=<span class="string">&#x27;circle&#x27;</span>, symbol_size=<span class="number">10</span>),</span><br><span class="line">        opts.GraphNode(name=<span class="string">&#x27;周建&#x27;</span>, symbol=<span class="string">&#x27;circle&#x27;</span>, symbol_size=<span class="number">10</span>),</span><br><span class="line">         opts.GraphNode(name=<span class="string">&#x27;文华&#x27;</span>, symbol=<span class="string">&#x27;circle&#x27;</span>, symbol_size=<span class="number">10</span>)]</span><br><span class="line"><span class="comment"># 关系</span></span><br><span class="line">links = [opts.GraphLink(source=<span class="string">&#x27;周建&#x27;</span>, target=<span class="string">&#x27;贺芳&#x27;</span>, value=<span class="string">&#x27;夫妻&#x27;</span>),</span><br><span class="line">         opts.GraphLink(source=<span class="string">&#x27;周建&#x27;</span>, target=<span class="string">&#x27;吴大&#x27;</span>, value=<span class="string">&#x27;同事&#x27;</span>),</span><br><span class="line">         opts.GraphLink(source=<span class="string">&#x27;周建&#x27;</span>, target=<span class="string">&#x27;张三&#x27;</span>, value=<span class="string">&#x27;同学&#x27;</span>),</span><br><span class="line">         opts.GraphLink(source=<span class="string">&#x27;黄婧&#x27;</span>, target=<span class="string">&#x27;张三&#x27;</span>, value=<span class="string">&#x27;朋友&#x27;</span>),</span><br><span class="line">           opts.GraphLink(source=<span class="string">&#x27;黄婧&#x27;</span>, target=<span class="string">&#x27;刘霞&#x27;</span>, value=<span class="string">&#x27;同事&#x27;</span>),</span><br><span class="line">         opts.GraphLink(source=<span class="string">&#x27;文华&#x27;</span>, target=<span class="string">&#x27;刘霞&#x27;</span>, value=<span class="string">&#x27;夫妻&#x27;</span>),</span><br><span class="line">         opts.GraphLink(source=<span class="string">&#x27;文华&#x27;</span>, target=<span class="string">&#x27;吴大&#x27;</span>, value=<span class="string">&#x27;同事&#x27;</span>),</span><br><span class="line">          opts.GraphLink(source=<span class="string">&#x27;周建&#x27;</span>, target=<span class="string">&#x27;刘霞&#x27;</span>, value=<span class="string">&#x27;同学&#x27;</span>)</span><br><span class="line">        ]</span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">graph =(Graph()</span><br><span class="line">        .add(series_name=<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">             nodes=nodes,</span><br><span class="line">             is_roam=<span class="literal">False</span>,</span><br><span class="line">             is_rotate_label=<span class="literal">True</span>,</span><br><span class="line">             links=links, repulsion=<span class="number">4000</span>, edge_label=opts.LabelOpts(</span><br><span class="line">                 is_show=<span class="literal">True</span>, position=<span class="string">&#x27;middle&#x27;</span>, formatter=<span class="string">&#x27;&#123;c&#125;&#x27;</span>))</span><br><span class="line">        .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&#x27;微信好友关系图&#x27;</span>))</span><br><span class="line">)</span><br><span class="line">graph.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920212229568.png" alt="image-20220920212229568"></p>
<p><strong>示例2</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./data/Graph.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = json.load(f)</span><br><span class="line"><span class="comment"># print(data)</span></span><br><span class="line"><span class="comment"># &#123;&#x27;nodes&#x27;:</span></span><br><span class="line"><span class="comment">#      [&#123;&#x27;name&#x27;: &#x27;结点1&#x27;, &#x27;symbolSize&#x27;: 10, &#x27;value&#x27;: 10&#125;,</span></span><br><span class="line"><span class="comment">#       &#123;&#x27;name&#x27;: &#x27;结点2&#x27;, &#x27;symbolSize&#x27;: 20, &#x27;value&#x27;: 20&#125;,</span></span><br><span class="line"><span class="comment">#       &#123;&#x27;name&#x27;: &#x27;结点3&#x27;, &#x27;symbolSize&#x27;: 30, &#x27;value&#x27;: 30&#125;,</span></span><br><span class="line"><span class="comment">#       &#123;&#x27;name&#x27;: &#x27;结点4&#x27;, &#x27;symbolSize&#x27;: 40, &#x27;value&#x27;: 40&#125;,</span></span><br><span class="line"><span class="comment">#       &#123;&#x27;name&#x27;: &#x27;结点5&#x27;, &#x27;symbolSize&#x27;: 50, &#x27;value&#x27;: 50&#125;,</span></span><br><span class="line"><span class="comment">#       &#123;&#x27;name&#x27;: &#x27;结点6&#x27;, &#x27;symbolSize&#x27;: 40, &#x27;value&#x27;: 40&#125;,</span></span><br><span class="line"><span class="comment">#       &#123;&#x27;name&#x27;: &#x27;结点7&#x27;, &#x27;symbolSize&#x27;: 30, &#x27;value&#x27;: 30&#125;,</span></span><br><span class="line"><span class="comment">#       &#123;&#x27;name&#x27;: &#x27;结点8&#x27;, &#x27;symbolSize&#x27;: 20, &#x27;value&#x27;: 20&#125;]</span></span><br><span class="line"><span class="comment">#  &#125;</span></span><br><span class="line">nodes = data[<span class="string">&#x27;nodes&#x27;</span>]</span><br><span class="line">links = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> nodes:</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> nodes:</span><br><span class="line">        links.append(&#123;<span class="string">&#x27;source&#x27;</span>:i.get(<span class="string">&#x27;name&#x27;</span>),<span class="string">&#x27;target&#x27;</span>:j.get(<span class="string">&#x27;name&#x27;</span>)&#125;)</span><br><span class="line"><span class="comment"># 每个结点都相互有关系</span></span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Graph</span><br><span class="line">c = Graph()</span><br><span class="line">c.add(series_name=<span class="string">&#x27;&#x27;</span>,nodes= nodes,links=links,repulsion=<span class="number">8000</span>)</span><br><span class="line">c.set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&#x27;Graph图例&#x27;</span>)) <span class="comment">#添加标题</span></span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914172750.png"/>



<h2 id="绘制桑葚图"><a href="#绘制桑葚图" class="headerlink" title="绘制桑葚图"></a>绘制桑葚图</h2><p>在pyecharts库中，可使用Sankey类绘制桑基图。Sankey类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Sankey</span>(init_opts=opts.InitOpts())</span><br><span class="line">.add(series_name, nodes, links, is_selected=<span class="literal">True</span>, pos_left=<span class="string">&#x27;5%&#x27;</span>, pos_top=<span class="string">&#x27;5%&#x27;</span>, pos_right=<span class="string">&#x27;20%&#x27;</span>, pos_bottom=<span class="string">&#x27;5%&#x27;</span>, node_width=<span class="number">20</span>, node_gap=<span class="number">8</span>, node_align=<span class="string">&#x27;justify&#x27;</span>, orient=<span class="string">&#x27;horizontal&#x27;</span>, is_draggable=<span class="literal">True</span>, layout_iterations=<span class="number">32</span>, focus_node_adjacency=<span class="literal">False</span>, levels=<span class="literal">None</span>, label_opts=opts.LabelOpts(), linestyle_opt=opts.LineStyleOpts(), tooltip_opts=<span class="literal">None</span>)</span><br><span class="line">.set_series_opts()</span><br><span class="line">.set_global_opts()</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center"><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>init_opts</strong>&#x3D;opts.InitOpts()</td>
<td>表示设置初始配置项，参考5.1.1小节</td>
</tr>
<tr>
<td align="center"><strong>add()</strong></td>
<td>表示添加数据</td>
</tr>
<tr>
<td align="center"><strong>series_name</strong></td>
<td>接收str，表示系列名称，用于tooltip的显示，legend的图例筛选。无默认值</td>
</tr>
<tr>
<td align="center"><strong>nodes</strong></td>
<td>接收Sequence，表示节点数据项列表。无默认值</td>
</tr>
<tr>
<td align="center"><strong>links</strong></td>
<td>接收Sequence，表示节点间关系数据项列表。无默认值</td>
</tr>
<tr>
<td align="center"><strong>is_selected</strong></td>
<td>接收bool，表示是否选中图例。默认为True</td>
</tr>
<tr>
<td align="center"><strong>pos_left</strong></td>
<td>接收str、types.numeric，表示Sankey组件离容器左侧的距离。默认为5%</td>
</tr>
<tr>
<td align="center"><strong>pos_top</strong></td>
<td>接收str、types.numeric，表示Sankey组件离容器上侧的距离。默认为5%</td>
</tr>
<tr>
<td align="center"><strong>pos_right</strong></td>
<td>接收str、types.numeric，表示Sankey组件离容器右侧的距离。默认为20%</td>
</tr>
<tr>
<td align="center"><strong>pos_bottom</strong></td>
<td>接收str、types.numeric，表示Sankey组件离容器下侧的距离。默认为5%</td>
</tr>
<tr>
<td align="center"><strong>node_width</strong></td>
<td>接收numeric，表示桑基图中每个矩形节点的宽度。默认为20</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="center"><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>node_gap</strong></td>
<td>接收numeric，表示桑基图中每一列任意两个矩形节点之间的间隔。默认为8</td>
</tr>
<tr>
<td align="center"><strong>node_align</strong></td>
<td>接收str，表示桑基图中节点的对齐方式，可选justify、left、right。justify表示节点双端对齐，left表示节点左对齐，right表示节点右对齐。默认为justify</td>
</tr>
<tr>
<td align="center"><strong>orient</strong></td>
<td>接收str，表示桑基图中节点的布局方向，可选horizontal、vertical。horizontal表示水平的从左往右，vertical表示垂直的从上往下。默认为horizontal</td>
</tr>
<tr>
<td align="center"><strong>is_draggable</strong></td>
<td>接收bool，表示当控制节点拖拽的交互开启后，用户可以将图中任意节点拖拽到任意位置。默认为True</td>
</tr>
<tr>
<td align="center"><strong>set_series_opts()</strong></td>
<td>表示设置系列配置项，参考5.1.2小节</td>
</tr>
<tr>
<td align="center"><strong>set_global_opts</strong><strong>()</strong></td>
<td>表示设置全局配置项，参考5.1.3小节</td>
</tr>
</tbody></table>
<p>示例1：</p>
<p>附件sanky.csv是某家庭一个月的生活开支明细数据，绘制桑基图。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">data = pd.read_csv(<span class="string">&#x27;./data/sanky.csv&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>, header=<span class="literal">None</span>, sep=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line"><span class="comment"># 生成节nodes</span></span><br><span class="line">Nodes = []</span><br><span class="line">Nodes.append(&#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;总支出&#x27;</span>&#125;)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> data[<span class="number">0</span>].unique():</span><br><span class="line">    dic=&#123;&#125;</span><br><span class="line">    dic[<span class="string">&#x27;name&#x27;</span>]=i</span><br><span class="line">    Nodes.append(dic)</span><br><span class="line"><span class="comment"># 生成links</span></span><br><span class="line">Links = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> data.values:</span><br><span class="line">    dic=&#123;&#125;</span><br><span class="line">    dic[<span class="string">&#x27;source&#x27;</span>]=i[<span class="number">0</span>]</span><br><span class="line">    dic[<span class="string">&#x27;target&#x27;</span>]=i[<span class="number">1</span>]</span><br><span class="line">    dic[<span class="string">&#x27;value&#x27;</span>]=i[<span class="number">2</span>]</span><br><span class="line">    Links.append(dic)</span><br><span class="line"><span class="comment"># 可视化</span></span><br><span class="line">sankey = (</span><br><span class="line">        Sankey()</span><br><span class="line">        .add(<span class="string">&#x27;&#x27;</span>, Nodes, Links, pos_left=<span class="string">&#x27;10%&#x27;</span>,</span><br><span class="line">            linestyle_opt=opts.LineStyleOpts(</span><br><span class="line">                opacity=<span class="number">0.2</span>, curve=<span class="number">0.5</span>, color=<span class="string">&#x27;source&#x27;</span>, type_=<span class="string">&#x27;dotted&#x27;</span>),</span><br><span class="line">            label_opts=opts.LabelOpts(position=<span class="string">&#x27;right&#x27;</span>, ),</span><br><span class="line">        )</span><br><span class="line">        .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&#x27;生活开支桑基图&#x27;</span>))</span><br><span class="line">    )</span><br><span class="line">sankey.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920212613378.png" alt="image-20220920212613378"></p>
<p><strong>示例2：使用桑基图展现不同种类的迁移</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./data/sankey.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = json.load(f)</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Sankey</span><br><span class="line"></span><br><span class="line">c = (</span><br><span class="line">    Sankey(init_opts=opts.InitOpts(width=<span class="string">&#x27;1200px&#x27;</span>,height=<span class="string">&#x27;800px&#x27;</span>)) <span class="comment">#初始化图表</span></span><br><span class="line">    .add(</span><br><span class="line">        <span class="string">&quot;sankey&quot;</span>,</span><br><span class="line">        data[<span class="string">&#x27;nodes&#x27;</span>],</span><br><span class="line">        data[<span class="string">&#x27;links&#x27;</span>],</span><br><span class="line">        linestyle_opt=opts.LineStyleOpts(opacity=<span class="number">0.2</span>, curve=<span class="number">0.2</span>, color=<span class="string">&quot;source&quot;</span>),</span><br><span class="line">        <span class="comment"># 设置流向线条不透明度 曲率 和颜色</span></span><br><span class="line">        label_opts=opts.LabelOpts(position=<span class="string">&quot;right&quot;</span>),</span><br><span class="line">        <span class="comment"># 设置标注位置</span></span><br><span class="line">    )</span><br><span class="line">    .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Sankey-基本示例&quot;</span>))</span><br><span class="line">)</span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914183716.png"/>



<h1 id="绘制组合图形"><a href="#绘制组合图形" class="headerlink" title="绘制组合图形"></a>绘制组合图形</h1><p><strong>导入相关库</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 代码5-20</span></span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar, Pie, Grid</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Page</span><br><span class="line"><span class="keyword">from</span> pyecharts.<span class="built_in">globals</span> <span class="keyword">import</span> ThemeType</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Timeline</span><br></pre></td></tr></table></figure>



<h2 id="绘制并行多图"><a href="#绘制并行多图" class="headerlink" title="绘制并行多图"></a>绘制并行多图</h2><p>为了进行不同数据的比较，有时需要在同一个视图区域同时绘制不同的图形，即并行多图。在pyecharts库中，可使用Grid类绘制并行多图。Grid类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">class</span> <span class="title class_">Grid</span>(init_opts=opts.InitOpts())</span><br><span class="line">.add(chart, grid_opts, grid_index=<span class="number">0</span>, is_control_axis_index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center"><strong>参数名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>init_opts</strong>&#x3D;opts.InitOpts()</td>
<td>表示设置初始配置项，参考5.1.1小节</td>
</tr>
<tr>
<td align="center"><strong>add()</strong></td>
<td>表示添加图形信息</td>
</tr>
<tr>
<td align="center"><strong>chart</strong></td>
<td>接收char对象，表示图表实例，仅Chart类或其子类。无默认值</td>
</tr>
<tr>
<td align="center"><strong>grid_opts</strong></td>
<td>接收options.GridOpts、dict，表示直角坐标系网格配置项。无默认值</td>
</tr>
<tr>
<td align="center"><strong>grid_index</strong></td>
<td>接收int，表示直角坐标系网格索引。默认为0</td>
</tr>
<tr>
<td align="center"><strong>is_control_axis_index</strong></td>
<td>接收bool，表示是否由自己控制Axis索引。默认为False</td>
</tr>
</tbody></table>
<p>Chart参数主要用于显示的图形对象。</p>
<p>为了显示正确，需要配置直角坐标系网格配置项。在pyecharts库中，可使用GridOpts类配置直角坐标系网格配置项。GridOpts类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyecharts.options.GridOpts(is_show=<span class="literal">False</span>, z_level=<span class="number">0</span>，z=<span class="number">2</span>，pos_left=<span class="literal">None</span>, pos_top=<span class="literal">None</span>, pos_right=<span class="literal">None</span>, pos_bottom=<span class="literal">None</span>, width=<span class="literal">None</span>, height=<span class="literal">None</span>, is_contain_label=<span class="literal">False</span>, background_color=<span class="string">&#x27;transparent&#x27;</span>, border_color=<span class="string">&#x27;#ccc&#x27;</span>, border_width=<span class="number">1</span>, tooltip_opts=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center"><strong>参数名称</strong></th>
<th align="center"><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>is_show</strong></td>
<td align="center">接收bool，表示是否显示直角坐标系网格。默认为False</td>
</tr>
<tr>
<td align="center"><strong>pos_left</strong></td>
<td align="center">接收str、numeric，表示grid组件离容器左侧的距离。默认为None</td>
</tr>
<tr>
<td align="center"><strong>pos_top</strong></td>
<td align="center">接收str、numeric，表示grid组件离容器上侧的距离。默认为None</td>
</tr>
<tr>
<td align="center"><strong>pos_right</strong></td>
<td align="center">接收str、numeric，表示grid组件离容器右侧的距离。默认为None</td>
</tr>
<tr>
<td align="center"><strong>pos_bottom</strong></td>
<td align="center">接收str、numeric，表示grid组件离容器下侧的距离。默认为None</td>
</tr>
<tr>
<td align="center"><strong>width</strong></td>
<td align="center">接收str、numeric，表示grid组件的宽度。默认None</td>
</tr>
<tr>
<td align="center"><strong>height</strong></td>
<td align="center">接收str、numeric，表示grid组件的高度。默认None</td>
</tr>
<tr>
<td align="center"><strong>is_contain_label</strong></td>
<td align="center">接收bool，表示grid区域是否包含坐标轴的刻度标签。默认是False</td>
</tr>
<tr>
<td align="center"><strong>background_color</strong></td>
<td align="center">接收str，表示网格背景色。默认为transparent</td>
</tr>
<tr>
<td align="center"><strong>border_color</strong></td>
<td align="center">接收str，表示网格的边框颜色。默认为#ccc</td>
</tr>
<tr>
<td align="center"><strong>border_width</strong></td>
<td align="center">接收numeric，表示网格的边框线宽。默认为1</td>
</tr>
</tbody></table>
<p>通常并行多图有左右布局和上下布局两种方式。基于的商家A的销售数据，采取左右布局的方式，绘制条形图和饼图。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">data = pd.read_excel(<span class="string">&#x27;./data/商家A和商家B的各类商品的销售数据.xlsx&#x27;</span>, </span><br><span class="line">                   index_col=<span class="string">&#x27;商家&#x27;</span>)</span><br><span class="line">bar = (</span><br><span class="line">    Bar()</span><br><span class="line">    .add_xaxis(data.columns.tolist())</span><br><span class="line">    .add_yaxis(<span class="string">&#x27;&#x27;</span>, data.loc[<span class="string">&#x27;商家A&#x27;</span>].tolist())</span><br><span class="line">    .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&#x27;商品A销售情况柱形图&#x27;</span>), </span><br><span class="line">                     legend_opts=opts.LegendOpts(pos_left=<span class="string">&#x27;30%&#x27;</span>))</span><br><span class="line">)</span><br><span class="line">pie = (Pie()</span><br><span class="line">     .add(<span class="string">&#x27;&#x27;</span>, [<span class="built_in">list</span>(z) <span class="keyword">for</span> z <span class="keyword">in</span> <span class="built_in">zip</span>(data.columns.tolist(), data.loc[<span class="string">&#x27;商家A&#x27;</span>].tolist())], </span><br><span class="line">          radius=[<span class="number">20</span>,<span class="number">100</span>], center=[<span class="number">700</span>, <span class="number">300</span>])</span><br><span class="line">     .set_global_opts(title_opts=opts.TitleOpts(</span><br><span class="line">         title=<span class="string">&#x27;商品A销售情况饼图&#x27;</span>, pos_left=<span class="string">&#x27;60%&#x27;</span>), </span><br><span class="line">                      legend_opts=opts.LegendOpts(orient=<span class="string">&#x27;vertical&#x27;</span>, pos_right=<span class="number">0</span>))</span><br><span class="line">     .set_series_opts(label_opts=opts.LabelOpts(formatter=<span class="string">&#x27;&#123;b&#125;:&#123;c&#125; (&#123;d&#125;%)&#x27;</span>))</span><br><span class="line">)</span><br><span class="line">grid=(Grid(init_opts=opts.InitOpts(width=<span class="string">&#x27;950px&#x27;</span>, height=<span class="string">&#x27;600px&#x27;</span>))</span><br><span class="line">      .add(bar, grid_opts=opts.GridOpts(pos_right=<span class="string">&#x27;50%&#x27;</span>))</span><br><span class="line">      .add(pie, grid_opts=opts.GridOpts(pos_left=<span class="string">&#x27;70%&#x27;</span>))</span><br><span class="line">   )</span><br><span class="line">grid.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920213203924.png" alt="image-20220920213203924"></p>
<p><strong>示例2</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">num = [<span class="number">110</span>, <span class="number">136</span>, <span class="number">108</span>, <span class="number">48</span>, <span class="number">111</span>, <span class="number">112</span>, <span class="number">103</span>]</span><br><span class="line">num2 = [<span class="number">90</span>, <span class="number">110</span>, <span class="number">101</span>, <span class="number">70</span>, <span class="number">90</span>, <span class="number">120</span>, <span class="number">99</span>]</span><br><span class="line">lab = [<span class="string">&#x27;哈士奇&#x27;</span>, <span class="string">&#x27;萨摩耶&#x27;</span>, <span class="string">&#x27;泰迪&#x27;</span>, <span class="string">&#x27;金毛&#x27;</span>, <span class="string">&#x27;牧羊犬&#x27;</span>, <span class="string">&#x27;吉娃娃&#x27;</span>, <span class="string">&#x27;柯基&#x27;</span>]</span><br><span class="line"></span><br><span class="line">bar = (</span><br><span class="line">    Bar()</span><br><span class="line">    .add_xaxis(xaxis_data=lab)</span><br><span class="line">    .add_yaxis(series_name=<span class="string">&#x27;商家A&#x27;</span>,y_axis=num,label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>))</span><br><span class="line">    .add_yaxis(series_name=<span class="string">&#x27;商家B&#x27;</span>,y_axis=num2,label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>))</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">line = (</span><br><span class="line">    Line()</span><br><span class="line">        .add_xaxis(xaxis_data=lab)</span><br><span class="line">        .add_yaxis(series_name=<span class="string">&#x27;商家A&#x27;</span>, y_axis=num)</span><br><span class="line">        .add_yaxis(series_name=<span class="string">&#x27;商家B&#x27;</span>, y_axis=num2)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">bar.overlap(line)</span><br><span class="line">bar.rendernotebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs20220914194628.png"></p>
<h2 id="绘制顺序多图"><a href="#绘制顺序多图" class="headerlink" title="绘制顺序多图"></a>绘制顺序多图</h2><p>如果对相关数据源，根据不同的目的进行了不同的数据可视化，进一步将所有图片集中到一个页面就显得非常完善，这样即可对不同的情况进行同时交互展示。在pyecharts库中，可使用Page类绘制顺序多图。Page类的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Page</span>(page_title=<span class="string">&#x27;Awesome-pyecharts&#x27;</span>, js_host=<span class="string">&#x27;&#x27;</span>，interval=<span class="number">1</span>, layout=PageLayoutOpts())</span><br><span class="line">.add(* charts)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center"><strong>参数名称</strong></th>
<th align="center"><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>page_title</strong></td>
<td align="center">接收str，表示HTML标题。默认为Awesome-pyecharts</td>
</tr>
<tr>
<td align="center"><strong>interval</strong></td>
<td align="center">接收int，表示每个图例之间的间隔。默认为1</td>
</tr>
<tr>
<td align="center"><strong>layout</strong></td>
<td align="center">接收PageLayoutOpts，表示布局配置项。</td>
</tr>
<tr>
<td align="center"><strong>charts</strong></td>
<td align="center">接收charts对象，表示任意图表实例。无默认值</td>
</tr>
</tbody></table>
<p>PageLayoutOpts用于配置原生CSS样式。pyecharts内置了DraggablePageLayout布局，可以通过拖放的方式设置布局，同时提供了save_resize_html()方法用于保存通过拖拉设置布局的页面。save_resize_html()方法的基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Page.save_resize_html(source=<span class="string">&#x27;render.html&#x27;</span>, cfg_file=<span class="literal">None</span>, cfg_dict=<span class="literal">None</span>, dest=<span class="string">&#x27;resize_render.html&#x27;</span>)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center"><strong>参数名称</strong></th>
<th align="center"><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>source</strong></td>
<td align="center">接收str，表示Page第一次渲染后的html文件。默认为render.html</td>
</tr>
<tr>
<td align="center"><strong>cfg_file</strong></td>
<td align="center">接收str，表示布局配置文件的路径。无默认值</td>
</tr>
<tr>
<td align="center"><strong>dest</strong></td>
<td align="center">接收str，表示重新生成的.html文件的存放路径以及文件名。默认为resize_render.html</td>
</tr>
</tbody></table>
<p>示例：</p>
<p>利用商家A和商家B的销售数据绘制柱形图、玫瑰图、环形图，并通过Page类实现顺序多图。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">bar = (</span><br><span class="line">   Bar(init_opts=opts.InitOpts(</span><br><span class="line">       width=<span class="string">&#x27;800px&#x27;</span>, height=<span class="string">&#x27;310px&#x27;</span>, theme=ThemeType.LIGHT))</span><br><span class="line">    .add_xaxis(data.columns.tolist())</span><br><span class="line">    .add_yaxis(<span class="string">&#x27;商家A&#x27;</span>, data.loc[<span class="string">&#x27;商家A&#x27;</span>].tolist())</span><br><span class="line">    .add_yaxis(<span class="string">&#x27;商家B&#x27;</span>, data.loc[<span class="string">&#x27;商家B&#x27;</span>].tolist())</span><br><span class="line">    .set_global_opts(title_opts=opts.TitleOpts(</span><br><span class="line">        title=<span class="string">&#x27;商家A和商家B销售情况柱形图&#x27;</span>)))</span><br><span class="line">pie1 = (Pie(init_opts=opts.InitOpts(</span><br><span class="line">       width=<span class="string">&#x27;800px&#x27;</span>, height=<span class="string">&#x27;310px&#x27;</span>))</span><br><span class="line">     .add(<span class="string">&#x27;&#x27;</span>, [<span class="built_in">list</span>(z) <span class="keyword">for</span> z <span class="keyword">in</span> <span class="built_in">zip</span>(</span><br><span class="line">         data.columns.tolist(), data.loc[<span class="string">&#x27;商家A&#x27;</span>].tolist())], radius=[<span class="number">20</span>,<span class="number">100</span>])</span><br><span class="line">     .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&#x27;商家A销售情况环形图&#x27;</span>), </span><br><span class="line">                      legend_opts=opts.LegendOpts(orient=<span class="string">&#x27;vertical&#x27;</span>, </span><br><span class="line">                                                  pos_left=<span class="number">0</span>, </span><br><span class="line">                                                  pos_bottom=<span class="string">&#x27;40%&#x27;</span>))</span><br><span class="line">     .set_series_opts(label_opts=opts.LabelOpts(formatter=<span class="string">&#x27;&#123;b&#125;:&#123;c&#125; (&#123;d&#125;%)&#x27;</span>)))  </span><br><span class="line">pie2 = (Pie(init_opts=opts.InitOpts(</span><br><span class="line">       width=<span class="string">&#x27;800px&#x27;</span>, height=<span class="string">&#x27;310px&#x27;</span>))</span><br><span class="line">     .add(<span class="string">&#x27;&#x27;</span>, [<span class="built_in">list</span>(z) <span class="keyword">for</span> z <span class="keyword">in</span> <span class="built_in">zip</span>(data.columns.tolist(), data.loc[<span class="string">&#x27;商家B&#x27;</span>].tolist())], </span><br><span class="line">          rosetype=<span class="string">&#x27;radius&#x27;</span>, radius=[<span class="number">20</span>, <span class="number">100</span>])</span><br><span class="line">     .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&#x27;商家B销售情况玫瑰图&#x27;</span>), </span><br><span class="line">                      legend_opts=opts.LegendOpts(orient=<span class="string">&#x27;vertical&#x27;</span>, </span><br><span class="line">                                                  pos_right=<span class="number">0</span>, </span><br><span class="line">                                                  pos_bottom=<span class="string">&#x27;40%&#x27;</span>))</span><br><span class="line">     .set_series_opts(label_opts=opts.LabelOpts(formatter=<span class="string">&#x27;&#123;b&#125;:&#123;c&#125; (&#123;d&#125;%)&#x27;</span>)))  </span><br><span class="line">page = (Page(page_title=<span class="string">&#x27;Page绘制顺序多图&#x27;</span>, interval=<span class="number">2</span>, </span><br><span class="line">           layout=Page.DraggablePageLayout).add(bar, pie1, pie2))</span><br><span class="line">page.render()  <span class="comment"># 绘图结果将保存到E:/work/book/chapter 5/render.html，点开文件将看到</span></span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920213642516.png" alt="image-20220920213642516"></p>
<p>在图形的的左上角存在Save_config按钮，此时可以通过拖放的方式调整页面显示效果，当拖放完成后，单击Save_config按钮，将会下载一个名为“chart_config.json”的配置文件，即可保存设置的布局。</p>
<p><strong>示例：绘制混合图（左右多图、上下多图）</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">x = np.linspace(<span class="number">0</span>,<span class="number">2</span>*np.pi,<span class="number">100</span>)</span><br><span class="line">y = np.sin(x)</span><br><span class="line"></span><br><span class="line">lines = (</span><br><span class="line">    Line()</span><br><span class="line">    .add_xaxis(xaxis_data = x)</span><br><span class="line">    .add_yaxis(series_name=<span class="string">&#x27;sin&#x27;</span>,y_axis=y,label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>))</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">scatters = (</span><br><span class="line">    Scatter()</span><br><span class="line">    .add_xaxis(xaxis_data = x)</span><br><span class="line">    .add_yaxis(series_name=<span class="string">&#x27;sin&#x27;</span>,y_axis=y,label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>))</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">grids = (</span><br><span class="line">    Grid()</span><br><span class="line">    .add(scatters,grid_opts=opts.GridOpts(pos_bottom=<span class="string">&#x27;60%&#x27;</span>))  <span class="comment">#grid_opts 在画布的哪一个位置</span></span><br><span class="line">    .add(lines,grid_opts=opts.GridOpts(pos_top=<span class="string">&#x27;60%&#x27;</span>))  <span class="comment">#上下显示 pos_bottom = &#x27;&#x27; pos_top = &#x27;</span></span><br><span class="line">)  <span class="comment">#左右显示 pos_left = &#x27;&#x27;  pos_right = &#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">grids.render(path=<span class="string">&#x27;./images/eight.html&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914194529.png"></p>
<h2 id="绘制时间线轮播多图"><a href="#绘制时间线轮播多图" class="headerlink" title="绘制时间线轮播多图"></a>绘制时间线轮播多图</h2><ul>
<li>当需要展示不同时间段、不同类别的数据时，如果同时在一个视图区域显示多个图形，将会显得较拥挤；</li>
<li>如果在同一个页面显示多个图形，将会显得冗余。</li>
<li>此时，可使用滚动重复的播放方式，展示所有需要显示的图形，即使用时间线轮播多图展示数据。</li>
</ul>
<p>在pyecharts库中，可使用Timeline类绘制时间线轮播多图。Timeline类得基本使用格式如下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Timeline</span>(init_opts=opts.InitOpts())</span><br><span class="line">.add(chart, time_point)</span><br><span class="line">.add_schema(axis_type=<span class="string">&#x27;category&#x27;</span>, orient=<span class="string">&#x27;horizontal&#x27;</span>, symbol=<span class="literal">None</span>, symbol_size=<span class="literal">None</span>, play_interval=<span class="literal">None</span>, control_position=<span class="string">&#x27;left&#x27;</span>, is_auto_play=<span class="literal">False</span>, is_loop_play=<span class="literal">True</span>, is_rewind_play=<span class="literal">False</span>, is_timeline_show=<span class="literal">True</span>, is_inverse=<span class="literal">False</span>, pos_left=<span class="literal">None</span>, pos_right=<span class="literal">None</span>, pos_top=<span class="literal">None</span>, pos_bottom=<span class="string">&#x27;-5px&#x27;</span>, width=<span class="literal">None</span>, height=<span class="literal">None</span>, linestyle_opts=<span class="literal">None</span>, label_opts=<span class="literal">None</span>, itemstyle_opts=<span class="literal">None</span>, graphic_opts=<span class="literal">None</span>, checkpointstyle_opts=<span class="literal">None</span>, controlstyle_opts=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center"><strong>参数名称</strong></th>
<th align="left"><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>is_auto_play</strong></td>
<td align="left">接收bool，表示是否自动播放。默认为False</td>
</tr>
<tr>
<td align="center"><strong>is_loop_play</strong></td>
<td align="left">接收bool，表示是否循环播放。默认为True</td>
</tr>
<tr>
<td align="center"><strong>is_rewind_play</strong></td>
<td align="left">接收bool，表示是否反向播放。默认为False</td>
</tr>
<tr>
<td align="center"><strong>is_timeline_show</strong></td>
<td align="left">接收bool，表示是否显示timeline组件，如果设置为False，不会显示，但是功能还存在。默认为True</td>
</tr>
<tr>
<td align="center"><strong>is_inverse</strong></td>
<td align="left">接收bool，表示是否反向放置timeline，反向则首尾颠倒过来。默认为False</td>
</tr>
<tr>
<td align="center"><strong>pos_left</strong></td>
<td align="left">接收str，表示Timeline组件离容器左侧的距离。默认为None</td>
</tr>
<tr>
<td align="center"><strong>pos_right</strong></td>
<td align="left">接收str，表示Timeline组件离容器右侧的距离。默认为None</td>
</tr>
<tr>
<td align="center"><strong>pos_top</strong></td>
<td align="left">接收str，表示Timeline组件离容器上侧的距离。默认为None</td>
</tr>
<tr>
<td align="center"><strong>pos_bottom</strong></td>
<td align="left">接收str，表示Timeline组件离容器下侧的距离。默认为None</td>
</tr>
<tr>
<td align="center"><strong>width</strong></td>
<td align="left">接收str，表示时间轴区域的宽度。默认为None</td>
</tr>
<tr>
<td align="center"><strong>height</strong></td>
<td align="left">接收str，表示时间轴区域的高度。默认为None</td>
</tr>
</tbody></table>
<p>示例：</p>
<p>手机店A和手机店B在2019年部分的销售数据，如下表所示，具体见数据文件timeline.xlsx。</p>
<table>
<thead>
<tr>
<th><strong>月份</strong></th>
<th><strong>三星</strong></th>
<th><strong>OPPO</strong></th>
<th><strong>苹果</strong></th>
<th><strong>华为</strong></th>
<th><strong>小米</strong></th>
<th><strong>中兴</strong></th>
<th><strong>VIVO</strong></th>
<th><strong>魅族</strong></th>
</tr>
</thead>
<tbody><tr>
<td>2019年1月</td>
<td>531</td>
<td>423</td>
<td>409</td>
<td>527</td>
<td>209</td>
<td>587</td>
<td>573</td>
<td>508</td>
</tr>
<tr>
<td>2019年2月</td>
<td>451</td>
<td>479</td>
<td>298</td>
<td>480</td>
<td>214</td>
<td>585</td>
<td>575</td>
<td>412</td>
</tr>
<tr>
<td>2019年3月</td>
<td>366</td>
<td>536</td>
<td>539</td>
<td>425</td>
<td>600</td>
<td>353</td>
<td>448</td>
<td>178</td>
</tr>
<tr>
<td>2019年4月</td>
<td>548</td>
<td>361</td>
<td>520</td>
<td>538</td>
<td>571</td>
<td>142</td>
<td>237</td>
<td>299</td>
</tr>
<tr>
<td>2019年5月</td>
<td>478</td>
<td>428</td>
<td>290</td>
<td>582</td>
<td>570</td>
<td>233</td>
<td>478</td>
<td>475</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">data_A = pd.read_excel(<span class="string">&#x27;./data/timeline.xlsx&#x27;</span>)</span><br><span class="line">data_B = pd.read_excel(<span class="string">&#x27;./data/timeline.xlsx&#x27;</span>, sheet_name=<span class="number">1</span>)</span><br><span class="line">x_data = data_A.columns.tolist()[<span class="number">1</span>: ]</span><br><span class="line">time = data_A[<span class="string">&#x27;月份&#x27;</span>].tolist()</span><br><span class="line">timeline = Timeline()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(time)):</span><br><span class="line">    y_data_A = data_A.iloc[i, <span class="number">1</span>: <span class="number">9</span>].tolist()</span><br><span class="line">    y_data_A = [<span class="built_in">str</span>(j) <span class="keyword">for</span> j <span class="keyword">in</span> y_data_A]</span><br><span class="line">    y_data_B = data_B.iloc[i, <span class="number">1</span>: <span class="number">9</span>].tolist()</span><br><span class="line">    y_data_B = [<span class="built_in">str</span>(j) <span class="keyword">for</span> j <span class="keyword">in</span> y_data_B]</span><br><span class="line">    bar = (Bar()</span><br><span class="line">        .add_xaxis(x_data)</span><br><span class="line">        .add_yaxis(<span class="string">&#x27;手机店A&#x27;</span>, y_data_A)</span><br><span class="line">        .add_yaxis(<span class="string">&#x27;手机店B&#x27;</span>, y_data_B)</span><br><span class="line">        .set_global_opts(title_opts=opts.TitleOpts(<span class="string">&#x27;手机店&#123;&#125;销售情况&#x27;</span>.<span class="built_in">format</span>(time[i])))</span><br><span class="line">        )</span><br><span class="line">    timeline.add(bar, time[i])</span><br><span class="line">timeline.add_schema(play_interval=<span class="number">1000</span>, is_auto_play=<span class="literal">True</span>, symbol=<span class="string">&#x27;pin&#x27;</span>)</span><br><span class="line">timeline.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgsimage-20220920214113050.png" alt="image-20220920214113050"></p>
<p>由时间线轮播多图可知，从2019年1月到2019年12月两家手机店的销售情况。在柱形图下方显示的是时间轴，通过设置播放间隔时间和自动播放，可以直观的观看随时间变化，两家手机店每个月的销售情况</p>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><h2 id="3D柱状图"><a href="#3D柱状图" class="headerlink" title="3D柱状图"></a>3D柱状图</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">from pyecharts import options as opts</span><br><span class="line">from pyecharts.charts import Bar3D</span><br><span class="line">import random</span><br><span class="line"></span><br><span class="line">data = [(i, j, random.randint(0, 12)) for i in range(6) for j in range(24)]</span><br><span class="line"># print(data)</span><br><span class="line">c = Bar3D()</span><br><span class="line">c.add(&#x27; &#x27;,[[d[1],d[0],d[2]] for d in data])</span><br><span class="line"></span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914191709.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">c = (</span><br><span class="line">    Bar3D(init_opts=opts.InitOpts(width=<span class="string">&#x27;1200px&#x27;</span>,height=<span class="string">&#x27;900px&#x27;</span>))</span><br><span class="line">    .add(</span><br><span class="line">        <span class="string">&quot;&quot;</span>,</span><br><span class="line">        [[d[<span class="number">1</span>], d[<span class="number">0</span>], d[<span class="number">2</span>]] <span class="keyword">for</span> d <span class="keyword">in</span> data],</span><br><span class="line">        xaxis3d_opts=opts.Axis3DOpts(Faker.clock, type_=<span class="string">&quot;category&quot;</span>),</span><br><span class="line">        yaxis3d_opts=opts.Axis3DOpts(Faker.week_en, type_=<span class="string">&quot;category&quot;</span>),</span><br><span class="line">        zaxis3d_opts=opts.Axis3DOpts(type_=<span class="string">&quot;value&quot;</span>),</span><br><span class="line">    )</span><br><span class="line">    .set_global_opts(</span><br><span class="line">        visualmap_opts=opts.VisualMapOpts(max_=<span class="number">20</span>,is_piecewise=<span class="literal">True</span>),</span><br><span class="line">        title_opts=opts.TitleOpts(title=<span class="string">&quot;Bar3D-基本示例&quot;</span>),</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914191913.png"></p>
<h2 id="日历图"><a href="#日历图" class="headerlink" title="日历图"></a>日历图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Calendar</span><br><span class="line"></span><br><span class="line">begin = datetime.date(<span class="number">2017</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">end = datetime.date(<span class="number">2017</span>,<span class="number">12</span>,<span class="number">31</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(begin+datetime.timedelta(2)) 1017-1-1 + 2 = 2017-1-3</span></span><br><span class="line">data = [</span><br><span class="line">    [<span class="built_in">str</span>(begin+datetime.timedelta(days = i)),random.randint(<span class="number">1000</span>,<span class="number">25000</span>)] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>((end-begin).days+<span class="number">1</span>)</span><br><span class="line">] <span class="comment"># 列表生成表达式</span></span><br><span class="line">c = Calendar(init_opts=opts.InitOpts(width=<span class="string">&#x27;1200px&#x27;</span>,height=<span class="string">&#x27;250px&#x27;</span>))  <span class="comment">#图的大小设置</span></span><br><span class="line">c.add(<span class="string">&#x27;&#x27;</span>,data,calendar_opts=opts.CalendarOpts(range_=<span class="number">2017</span>)) <span class="comment">#添加数据 并且设置日历是2017年</span></span><br><span class="line">c.set_global_opts(title_opts = opts.TitleOpts(title=<span class="string">&#x27;日历图&#x27;</span>),  <span class="comment">#设置标题</span></span><br><span class="line">                 visualmap_opts = opts.VisualMapOpts( <span class="comment">#视觉映射配置项</span></span><br><span class="line">                 max_=<span class="number">25000</span>, <span class="comment"># 组件最大值</span></span><br><span class="line">                 min_=<span class="number">500</span>, <span class="comment"># 组件最小值</span></span><br><span class="line">                 orient=<span class="string">&#x27;horizontal&#x27;</span>, <span class="comment"># 组件放置方式</span></span><br><span class="line">                 is_piecewise=<span class="literal">True</span>, <span class="comment"># 组件是否分块</span></span><br><span class="line">                 pos_top=<span class="string">&#x27;230px&#x27;</span>, <span class="comment"># 组件离顶端230px</span></span><br><span class="line">                 pos_left=<span class="string">&#x27;100px&#x27;</span>)) <span class="comment"># 组件离左边100px</span></span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914171449.png"/>



<p>仪表盘图</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 仪表盘</span></span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Gauge</span><br><span class="line">c = Gauge()</span><br><span class="line">c.add(series_name=<span class="string">&quot;&quot;</span>,data_pair=[(<span class="string">&quot;完成率&quot;</span>, <span class="number">66.6</span>)],</span><br><span class="line">      detail_label_opts=opts.GaugeDetailOpts(offset_center=[<span class="number">0</span>,<span class="string">&#x27;-20%&#x27;</span>],is_show = <span class="literal">False</span>))</span><br><span class="line">c.set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Gauge-基本示例&quot;</span>))<span class="comment">#添加标题</span></span><br><span class="line"><span class="comment"># is_show = F/T 是否显示数据 off_Center=[x,y] 显示的数据距离表盘中心的距离</span></span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914172829.png"/>

<h2 id="水球图"><a href="#水球图" class="headerlink" title="水球图"></a>水球图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#水球图</span></span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Liquid</span><br><span class="line">c = Liquid()</span><br><span class="line">c.add(<span class="string">&#x27;&#x27;</span>,[<span class="number">0.6</span>,<span class="number">0.7</span>],is_animation=<span class="literal">True</span>,<span class="comment">#是否显示动画</span></span><br><span class="line">      shape=<span class="string">&#x27;&#x27;</span>, <span class="comment">#水球外形</span></span><br><span class="line">      color=[<span class="string">&#x27;red&#x27;</span>,<span class="string">&#x27;blue&#x27;</span>])<span class="comment">#颜色 第一个数据：x 第二个数据：x ......</span></span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914172810.png"/>



<h2 id="使用平行坐标系展示不同日期的PM值"><a href="#使用平行坐标系展示不同日期的PM值" class="headerlink" title="使用平行坐标系展示不同日期的PM值"></a>使用平行坐标系展示不同日期的PM值</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./data/Parallel.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = json.load(f)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(data)</span></span><br><span class="line"><span class="comment"># &#123;&#x27;Beijing&#x27;: [[1, 91, 45, 125, 0.82, 34],</span></span><br><span class="line"><span class="comment">#              [2, 65, 27, 78, 0.86, 45],</span></span><br><span class="line"><span class="comment">#              [3, 83, 60, 84, 1.09, 73],</span></span><br><span class="line"><span class="comment">#              [4, 109, 81, 121, 1.28, 68]],</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  &#x27;Shanghai&#x27;: [[1, 106, 77, 114, 1.07, 55],</span></span><br><span class="line"><span class="comment">#               [2, 109, 81, 121, 1.28, 68],</span></span><br><span class="line"><span class="comment">#               [3, 106, 77, 114, 1.07, 55]],</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  &#x27;Guangzhou&#x27;: [[1, 89, 65, 78, 0.86, 51, 26],</span></span><br><span class="line"><span class="comment">#                [2, 53, 33, 47, 0.64, 50, 17],</span></span><br><span class="line"><span class="comment">#                [3, 80, 55, 80, 1.01, 75, 24],</span></span><br><span class="line"><span class="comment">#                [4, 117, 81, 124, 1.03, 45]],</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  &#x27;else&#x27;: [&#123;&#x27;dim&#x27;: 0, &#x27;name&#x27;: &#x27;data&#x27;&#125;,</span></span><br><span class="line"><span class="comment">#           &#123;&#x27;dim&#x27;: 1, &#x27;name&#x27;: &#x27;AQI&#x27;&#125;,</span></span><br><span class="line"><span class="comment">#           &#123;&#x27;dim&#x27;: 2, &#x27;name&#x27;: &#x27;PM2.5&#x27;&#125;,</span></span><br><span class="line"><span class="comment">#           &#123;&#x27;dim&#x27;: 3, &#x27;name&#x27;: &#x27;PM10&#x27;&#125;,</span></span><br><span class="line"><span class="comment">#           &#123;&#x27;dim&#x27;: 4, &#x27;name&#x27;: &#x27;CO&#x27;&#125;,</span></span><br><span class="line"><span class="comment">#           &#123;&#x27;dim&#x27;: 5, &#x27;name&#x27;: &#x27;NO2&#x27;&#125;]&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Page, Parallel</span><br><span class="line"></span><br><span class="line">c = (</span><br><span class="line">    Parallel()</span><br><span class="line">    .add_schema(data[<span class="string">&#x27;else&#x27;</span>])</span><br><span class="line">    .add(<span class="string">&quot;Beijing&quot;</span>, data[<span class="string">&quot;Beijing&quot;</span>])</span><br><span class="line">    .add(<span class="string">&quot;Shanghai&quot;</span>, data[<span class="string">&quot;Shanghai&quot;</span>])</span><br><span class="line">    .add(<span class="string">&quot;Guangzhou&quot;</span>, data[<span class="string">&quot;Guangzhou&quot;</span>])</span><br><span class="line">    .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Parallel-基本示例&quot;</span>))</span><br><span class="line">)</span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914173143.png"/>



<h2 id="使用雷达图来展现客户价值分析的结果"><a href="#使用雷达图来展现客户价值分析的结果" class="headerlink" title="使用雷达图来展现客户价值分析的结果"></a>使用雷达图来展现客户价值分析的结果</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用雷达图来展现客户价值分析的结果</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Radar</span><br><span class="line">data = np.load(<span class="string">&#x27;./data/radar.npy&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(data)</span><br><span class="line">price = [<span class="string">&#x27;价值一&#x27;</span>,<span class="string">&#x27;价值二&#x27;</span>,<span class="string">&#x27;价值三&#x27;</span>,<span class="string">&#x27;价值四&#x27;</span>,<span class="string">&#x27;价值五&#x27;</span>]</span><br><span class="line">c = (</span><br><span class="line">    Radar()</span><br><span class="line">    .add_schema(schema=[opts.RadarIndicatorItem(name=m, max_=n, min_=k) <span class="keyword">for</span> m, n, k <span class="keyword">in</span> <span class="built_in">zip</span>(price,</span><br><span class="line">                                                                                           data.<span class="built_in">max</span>(axis=<span class="number">0</span>),</span><br><span class="line">                                                                                           data.<span class="built_in">min</span>(axis=<span class="number">0</span>))])</span><br><span class="line">    <span class="comment"># 设置坐标轴</span></span><br><span class="line">    <span class="comment"># 即axis=1为横向，axis=0为纵向</span></span><br><span class="line">    .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Radar-基本示例&quot;</span>))</span><br><span class="line">)</span><br><span class="line">cols = [<span class="string">&#x27;#FF6EB4&#x27;</span>, <span class="string">&#x27;#FA8072&#x27;</span>, <span class="string">&#x27;#EECFA1&#x27;</span>, <span class="string">&#x27;#CDB5CD&#x27;</span>, <span class="string">&#x27;#B03060&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">enumerate</span>(cols):</span><br><span class="line">    c = (c.add(<span class="string">&#x27;客户群&#x27;</span>+<span class="built_in">str</span>(i), [[<span class="built_in">float</span>(y) <span class="keyword">for</span> y <span class="keyword">in</span> data[i]]],</span><br><span class="line">               areastyle_opts=opts.AreaStyleOpts(opacity=<span class="number">0.3</span>, color=j),  <span class="comment"># 区域填充样式配置项</span></span><br><span class="line">               label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>, formatter=&#123;<span class="string">&#x27;color&#x27;</span>:cols&#125;))  <span class="comment"># 标签配置项 （也就是价值取值）</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<p>data为：</p>
<p>[[ 0.483 -0.799  2.483  2.424  0.308]<br> [ 1.16  -0.377 -0.087 -0.095 -0.158]<br> [-0.314  1.686 -0.574 -0.537 -0.171]<br> [-0.701 -0.415 -0.161 -0.165 -0.255]<br> [ 0.057 -0.006 -0.227 -0.23   2.191]]</p>
<img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914183439.png"/>



<h2 id="实现主题河流图"><a href="#实现主题河流图" class="headerlink" title="实现主题河流图"></a>实现主题河流图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 实现主题河流图</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./data/ThemeRiver.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = json.load(f)</span><br><span class="line"><span class="built_in">print</span>(data)</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> ThemeRiver</span><br><span class="line"></span><br><span class="line">c = (</span><br><span class="line">    ThemeRiver()</span><br><span class="line">    .add(</span><br><span class="line">        data[<span class="string">&#x27;names&#x27;</span>],</span><br><span class="line">        data[<span class="string">&#x27;data&#x27;</span>],</span><br><span class="line">        singleaxis_opts=opts.SingleAxisOpts(type_=<span class="string">&quot;time&quot;</span>, pos_bottom=<span class="string">&quot;10%&quot;</span>)</span><br><span class="line">    )</span><br><span class="line">    .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;ThemeRiver-基本示例&quot;</span>))</span><br><span class="line">)</span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914185446.png"/>



<h2 id="使用图展现不同类型的归属"><a href="#使用图展现不同类型的归属" class="headerlink" title="使用图展现不同类型的归属"></a>使用图展现不同类型的归属</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Tree</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./data/Tree.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = json.load(f)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(data[&#x27;data&#x27;])</span></span><br><span class="line"><span class="comment"># [&#123;&#x27;children&#x27;: [&#123;&#x27;name&#x27;: &#x27;豹子&#x27;&#125;,</span></span><br><span class="line"><span class="comment">#                &#123;&#x27;children&#x27;: [&#123;&#x27;name&#x27;: &#x27;美短&#x27;&#125;, &#123;&#x27;name&#x27;: &#x27;英短&#x27;&#125;], &#x27;name&#x27;: &#x27;猫&#x27;&#125;,</span></span><br><span class="line"><span class="comment">#                &#123;&#x27;children&#x27;: [&#123;&#x27;name&#x27;: &#x27;苏门答腊虎&#x27;&#125;, &#123;&#x27;name&#x27;: &#x27;华南虎&#x27;&#125;], &#x27;name&#x27;: &#x27;老虎&#x27;&#125;],</span></span><br><span class="line"><span class="comment">#   &#x27;name&#x27;: &#x27;猫科动物&#x27;&#125;]</span></span><br><span class="line"></span><br><span class="line">c = Tree()</span><br><span class="line">c.add(<span class="string">&#x27;&#x27;</span>,data[<span class="string">&#x27;data&#x27;</span>])</span><br><span class="line">c.set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;Tree-基本示例&quot;</span>))</span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914185418.png"/>



<h2 id="使用矩形树图展现不同属性的归属"><a href="#使用矩形树图展现不同属性的归属" class="headerlink" title="使用矩形树图展现不同属性的归属"></a>使用矩形树图展现不同属性的归属</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用矩形树图展现不同属性的归属</span></span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> TreeMap</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./data/TreeMap.json&#x27;</span>,<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = json.load(f)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(data[&#x27;data&#x27;])</span></span><br><span class="line"><span class="comment"># [&#123;&#x27;value&#x27;: 40, &#x27;name&#x27;: &#x27;我是A&#x27;&#125;,</span></span><br><span class="line"><span class="comment">#  &#123;&#x27;value&#x27;: 180, &#x27;name&#x27;: &#x27;我是B&#x27;,</span></span><br><span class="line"><span class="comment">#   &#x27;children&#x27;: [&#123;&#x27;value&#x27;: 76, &#x27;name&#x27;: &#x27;我是B.children&#x27;,</span></span><br><span class="line"><span class="comment">#                 &#x27;children&#x27;: [&#123;&#x27;value&#x27;: 12, &#x27;name&#x27;: &#x27;我是B.children.a&#x27;&#125;,</span></span><br><span class="line"><span class="comment">#                              &#123;&#x27;value&#x27;: 28, &#x27;name&#x27;: &#x27;我是B.children.b&#x27;&#125;,</span></span><br><span class="line"><span class="comment">#                              &#123;&#x27;value&#x27;: 20, &#x27;name&#x27;: &#x27;我是B.children.c&#x27;&#125;,</span></span><br><span class="line"><span class="comment">#                              &#123;&#x27;value&#x27;: 16, &#x27;name&#x27;: &#x27;我是B.children.d&#x27;&#125;]&#125;]&#125;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">c = (</span><br><span class="line">    TreeMap()</span><br><span class="line">    .add(<span class="string">&quot;演示数据&quot;</span>, data[<span class="string">&#x27;data&#x27;</span>])</span><br><span class="line">    .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;TreeMap-基本示例&quot;</span>))</span><br><span class="line">)</span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914185404.png"/>

<h1 id="绘制地理图"><a href="#绘制地理图" class="headerlink" title="绘制地理图"></a>绘制地理图</h1><h2 id="地理散点图"><a href="#地理散点图" class="headerlink" title="地理散点图"></a>地理散点图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 绘制地理散点图</span></span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Geo</span><br><span class="line"><span class="keyword">import</span> pyecharts.options <span class="keyword">as</span> opts</span><br><span class="line">data_map = [(i,j) <span class="keyword">for</span> i ,j <span class="keyword">in</span> <span class="built_in">zip</span>(Faker.provinces,Faker.values())]</span><br><span class="line"><span class="built_in">print</span>(data_map)</span><br><span class="line">c = Geo()</span><br><span class="line">c.add_schema(maptype=<span class="string">&#x27;china&#x27;</span>)</span><br><span class="line">c.add(<span class="string">&#x27;&#x27;</span>,data_map)</span><br><span class="line">c.set_global_opts(</span><br><span class="line">        title_opts=opts.TitleOpts(title=<span class="string">&#x27;中国地图&#x27;</span>),</span><br><span class="line">        visualmap_opts=opts.VisualMapOpts(is_piecewise=<span class="literal">True</span>))</span><br><span class="line">c.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914191036.png"></p>
<h2 id="地理特效散点图"><a href="#地理特效散点图" class="headerlink" title="地理特效散点图"></a>地理特效散点图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#绘制地理特效散点图</span></span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Geo</span><br><span class="line"><span class="keyword">import</span> pyecharts.options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.<span class="built_in">globals</span> <span class="keyword">import</span> ChartType</span><br><span class="line"><span class="keyword">from</span> pyecharts.faker <span class="keyword">import</span> Faker</span><br><span class="line"><span class="comment"># from example.commons import Faker</span></span><br><span class="line"><span class="built_in">print</span>(Faker.provinces)</span><br><span class="line"><span class="built_in">print</span>(Faker.values())</span><br><span class="line">(</span><br><span class="line">    Geo()</span><br><span class="line">    .add_schema(maptype=<span class="string">&#x27;china&#x27;</span>)</span><br><span class="line">    .add(series_name=<span class="string">&#x27;&#x27;</span>, data_pair=[(i, j) <span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">zip</span>(Faker.provinces, Faker.values())],</span><br><span class="line">        type_=ChartType.EFFECT_SCATTER)</span><br><span class="line">    .set_global_opts(</span><br><span class="line">        title_opts=opts.TitleOpts(title=<span class="string">&#x27;中国地图(特效散点图)&#x27;</span>),</span><br><span class="line">        visualmap_opts=opts.VisualMapOpts(</span><br><span class="line">            is_piecewise=<span class="literal">True</span></span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">).render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/capture_20220914190003004.bmp"></p>
<h2 id="地理迁徙图"><a href="#地理迁徙图" class="headerlink" title="地理迁徙图"></a>地理迁徙图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 绘制地理迁徙图</span></span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Geo</span><br><span class="line"><span class="keyword">from</span> pyecharts.<span class="built_in">globals</span> <span class="keyword">import</span> ChartType, SymbolType</span><br><span class="line"><span class="keyword">import</span> pyecharts.options <span class="keyword">as</span> opts</span><br><span class="line"></span><br><span class="line">city_num = [(<span class="string">&#x27;广州&#x27;</span>, <span class="number">105</span>), (<span class="string">&#x27;成都&#x27;</span>, <span class="number">70</span>), (<span class="string">&#x27;北京&#x27;</span>, <span class="number">99</span>), (<span class="string">&#x27;西安&#x27;</span>, <span class="number">80</span>)]</span><br><span class="line">start_end = [(<span class="string">&#x27;广州&#x27;</span>, <span class="string">&#x27;成都&#x27;</span>), (<span class="string">&#x27;广州&#x27;</span>, <span class="string">&#x27;北京&#x27;</span>), (<span class="string">&#x27;广州&#x27;</span>, <span class="string">&#x27;西安&#x27;</span>)]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(</span><br><span class="line">    Geo()</span><br><span class="line">    .add_schema(maptype=<span class="string">&#x27;china&#x27;</span>,</span><br><span class="line">                itemstyle_opts=opts.ItemStyleOpts(color=<span class="string">&#x27;#323c48&#x27;</span>, border_color=<span class="string">&#x27;#111&#x27;</span>),)</span><br><span class="line">    .add(<span class="string">&#x27;&#x27;</span>, data_pair=city_num, color=<span class="string">&#x27;white&#x27;</span>,type_=ChartType.EFFECT_SCATTER)</span><br><span class="line">    .add(<span class="string">&#x27;&#x27;</span>, data_pair=start_end, type_=ChartType.LINES,<span class="comment"># 图标类型为线</span></span><br><span class="line">         effect_opts=opts.EffectOpts(symbol=SymbolType.ARROW,<span class="comment"># 设置流向表示为箭头</span></span><br><span class="line">                                     color=<span class="string">&#x27;blue&#x27;</span>, <span class="comment"># 拉屎呢箭头</span></span><br><span class="line">                                     symbol_size=<span class="number">8</span>),</span><br><span class="line">         label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>)) <span class="comment"># 箭头大小</span></span><br><span class="line">).render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914191724.png"></p>
<h2 id="地理热力图"><a href="#地理热力图" class="headerlink" title="地理热力图"></a>地理热力图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Geo</span><br><span class="line"><span class="keyword">import</span> pyecharts.options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.<span class="built_in">globals</span> <span class="keyword">import</span> ChartType</span><br><span class="line"></span><br><span class="line">(</span><br><span class="line">    Geo()</span><br><span class="line">    .add_schema(maptype=<span class="string">&#x27;广东&#x27;</span>)</span><br><span class="line">    .add(series_name=<span class="string">&#x27;&#x27;</span>, data_pair=[(i, j) <span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">zip</span>(Faker.guangdong_city, Faker.values())],</span><br><span class="line">         type_=ChartType.HEATMAP)</span><br><span class="line">    .set_global_opts(visualmap_opts=opts.VisualMapOpts())</span><br><span class="line">).render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs/20220914191745.png"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://yuwan-codediary.github.io">Zhang Yuhua</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://yuwan-codediary.github.io/2022/09/14/pyecharts%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">https://yuwan-codediary.github.io/2022/09/14/pyecharts%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://yuwan-codediary.github.io" target="_blank">share station</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/09/16/%E7%94%A8%E4%BA%8E%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9A%84%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86/"><img class="prev-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">用于数据可视化的数据预处理</div></div></a></div><div class="next-post pull-right"><a href="/2022/09/14/matplolib%E5%AD%A6%E4%B9%A0/"><img class="next-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">matplolib学习笔记</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://storage-1310438473.cos.ap-nanjing.myqcloud.com/imgs头像.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Zhang Yuhua</div><div class="author-info__description">一个啥也不会的人工智能专业的大学生的学习笔记记录网站罢了</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">9</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#pyechart%E7%BB%98%E5%9B%BE%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text">pyechart绘图基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="toc-number">1.1.</span> <span class="toc-text">初始配置项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E5%88%97%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="toc-number">1.2.</span> <span class="toc-text">系列配置项</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E5%AD%97%E6%A0%B7%E5%BC%8F%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="toc-number">1.2.1.</span> <span class="toc-text">文字样式配置项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="toc-number">1.2.2.</span> <span class="toc-text">标签配置项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E6%A0%B7%E5%BC%8F%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="toc-number">1.2.3.</span> <span class="toc-text">线样式配置项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E8%AE%B0%E7%82%B9%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="toc-number">1.2.4.</span> <span class="toc-text">标记点配置项</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="toc-number">1.3.</span> <span class="toc-text">全局配置项</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E9%A2%98%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="toc-number">1.3.1.</span> <span class="toc-text">标题配置项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E4%BE%8B%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="toc-number">1.3.2.</span> <span class="toc-text">图例配置项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9D%90%E6%A0%87%E8%BD%B4%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="toc-number">1.3.3.</span> <span class="toc-text">坐标轴配置项</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E4%BA%A4%E4%BA%92%E5%BC%8F%E5%9F%BA%E7%A1%80%E5%9B%BE%E5%BD%A2"><span class="toc-number">2.</span> <span class="toc-text">绘制交互式基础图形</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E6%9D%A1%E5%BD%A2%E5%9B%BE"><span class="toc-number">2.1.</span> <span class="toc-text">绘制条形图</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%B1%E5%BD%A2%E5%9B%BE"><span class="toc-number">2.1.1.</span> <span class="toc-text">柱形图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E5%BD%A2%E5%9B%BE"><span class="toc-number">2.1.2.</span> <span class="toc-text">条形图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A0%86%E5%8F%A0%E6%9F%B1%E5%BD%A2%E5%9B%BE"><span class="toc-number">2.1.3.</span> <span class="toc-text">堆叠柱形图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E6%95%A3%E7%82%B9%E5%9B%BE"><span class="toc-number">2.2.</span> <span class="toc-text">绘制散点图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E6%8A%98%E7%BA%BF%E5%9B%BE"><span class="toc-number">2.3.</span> <span class="toc-text">绘制折线图</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%98%E7%BA%BF%E5%9B%BE"><span class="toc-number">2.3.1.</span> <span class="toc-text">折线图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E7%A7%AF%E5%9B%BE"><span class="toc-number">2.3.2.</span> <span class="toc-text">面积图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E7%AE%B1%E7%BA%BF%E5%9B%BE"><span class="toc-number">2.4.</span> <span class="toc-text">绘制箱线图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B63D%E6%95%A3%E7%82%B9%E5%9B%BE"><span class="toc-number">2.5.</span> <span class="toc-text">绘制3D散点图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E9%A5%BC%E5%9B%BE"><span class="toc-number">2.6.</span> <span class="toc-text">绘制饼图</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%9B%BE"><span class="toc-number">2.6.1.</span> <span class="toc-text">环图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%BD%A2%E7%8E%AB%E7%91%B0%E5%9B%BE"><span class="toc-number">2.6.2.</span> <span class="toc-text">环形玫瑰图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AB%E7%91%B0%E5%9B%BE"><span class="toc-number">2.6.3.</span> <span class="toc-text">玫瑰图</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E4%BA%A4%E4%BA%92%E5%BC%8F%E9%AB%98%E7%BA%A7%E5%9B%BE%E5%BD%A2"><span class="toc-number">3.</span> <span class="toc-text">绘制交互式高级图形</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E5%B1%82%E5%8F%A0%E5%A4%9A%E5%9B%BE"><span class="toc-number">3.1.</span> <span class="toc-text">绘制层叠多图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E6%BC%8F%E6%96%97%E5%9B%BE"><span class="toc-number">3.2.</span> <span class="toc-text">绘制漏斗图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E7%83%AD%E5%8A%9B%E5%9B%BE"><span class="toc-number">3.3.</span> <span class="toc-text">绘制热力图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E8%AF%8D%E4%BA%91%E5%9B%BE"><span class="toc-number">3.4.</span> <span class="toc-text">绘制词云图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E5%85%B3%E7%B3%BB%E5%9B%BE"><span class="toc-number">3.5.</span> <span class="toc-text">绘制关系图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E6%A1%91%E8%91%9A%E5%9B%BE"><span class="toc-number">3.6.</span> <span class="toc-text">绘制桑葚图</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E7%BB%84%E5%90%88%E5%9B%BE%E5%BD%A2"><span class="toc-number">4.</span> <span class="toc-text">绘制组合图形</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E5%B9%B6%E8%A1%8C%E5%A4%9A%E5%9B%BE"><span class="toc-number">4.1.</span> <span class="toc-text">绘制并行多图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E9%A1%BA%E5%BA%8F%E5%A4%9A%E5%9B%BE"><span class="toc-number">4.2.</span> <span class="toc-text">绘制顺序多图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E6%97%B6%E9%97%B4%E7%BA%BF%E8%BD%AE%E6%92%AD%E5%A4%9A%E5%9B%BE"><span class="toc-number">4.3.</span> <span class="toc-text">绘制时间线轮播多图</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-number">5.</span> <span class="toc-text">其他</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3D%E6%9F%B1%E7%8A%B6%E5%9B%BE"><span class="toc-number">5.1.</span> <span class="toc-text">3D柱状图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E5%8E%86%E5%9B%BE"><span class="toc-number">5.2.</span> <span class="toc-text">日历图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B0%B4%E7%90%83%E5%9B%BE"><span class="toc-number">5.3.</span> <span class="toc-text">水球图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%B9%B3%E8%A1%8C%E5%9D%90%E6%A0%87%E7%B3%BB%E5%B1%95%E7%A4%BA%E4%B8%8D%E5%90%8C%E6%97%A5%E6%9C%9F%E7%9A%84PM%E5%80%BC"><span class="toc-number">5.4.</span> <span class="toc-text">使用平行坐标系展示不同日期的PM值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%9B%B7%E8%BE%BE%E5%9B%BE%E6%9D%A5%E5%B1%95%E7%8E%B0%E5%AE%A2%E6%88%B7%E4%BB%B7%E5%80%BC%E5%88%86%E6%9E%90%E7%9A%84%E7%BB%93%E6%9E%9C"><span class="toc-number">5.5.</span> <span class="toc-text">使用雷达图来展现客户价值分析的结果</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E4%B8%BB%E9%A2%98%E6%B2%B3%E6%B5%81%E5%9B%BE"><span class="toc-number">5.6.</span> <span class="toc-text">实现主题河流图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%9B%BE%E5%B1%95%E7%8E%B0%E4%B8%8D%E5%90%8C%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%BD%92%E5%B1%9E"><span class="toc-number">5.7.</span> <span class="toc-text">使用图展现不同类型的归属</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%9F%A9%E5%BD%A2%E6%A0%91%E5%9B%BE%E5%B1%95%E7%8E%B0%E4%B8%8D%E5%90%8C%E5%B1%9E%E6%80%A7%E7%9A%84%E5%BD%92%E5%B1%9E"><span class="toc-number">5.8.</span> <span class="toc-text">使用矩形树图展现不同属性的归属</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E5%9C%B0%E7%90%86%E5%9B%BE"><span class="toc-number">6.</span> <span class="toc-text">绘制地理图</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%B0%E7%90%86%E6%95%A3%E7%82%B9%E5%9B%BE"><span class="toc-number">6.1.</span> <span class="toc-text">地理散点图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%B0%E7%90%86%E7%89%B9%E6%95%88%E6%95%A3%E7%82%B9%E5%9B%BE"><span class="toc-number">6.2.</span> <span class="toc-text">地理特效散点图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%B0%E7%90%86%E8%BF%81%E5%BE%99%E5%9B%BE"><span class="toc-number">6.3.</span> <span class="toc-text">地理迁徙图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%B0%E7%90%86%E7%83%AD%E5%8A%9B%E5%9B%BE"><span class="toc-number">6.4.</span> <span class="toc-text">地理热力图</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/10/10/R%E8%AF%AD%E8%A8%80%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8B%E7%BE%8E%E7%AC%AC%E4%B8%89%E7%AB%A0%E4%BB%A3%E7%A0%81%E5%8F%8A%E5%85%B6%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C/" title="R语言数据可视化之美第三章代码及其运行结果"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="R语言数据可视化之美第三章代码及其运行结果"/></a><div class="content"><a class="title" href="/2022/10/10/R%E8%AF%AD%E8%A8%80%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B9%8B%E7%BE%8E%E7%AC%AC%E4%B8%89%E7%AB%A0%E4%BB%A3%E7%A0%81%E5%8F%8A%E5%85%B6%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C/" title="R语言数据可视化之美第三章代码及其运行结果">R语言数据可视化之美第三章代码及其运行结果</a><time datetime="2022-10-10T12:53:00.000Z" title="发表于 2022-10-10 20:53:00">2022-10-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/18/seaborn%E7%BB%98%E5%9B%BE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="seaborn绘图学习笔记"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="seaborn绘图学习笔记"/></a><div class="content"><a class="title" href="/2022/09/18/seaborn%E7%BB%98%E5%9B%BE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="seaborn绘图学习笔记">seaborn绘图学习笔记</a><time datetime="2022-09-18T10:24:49.000Z" title="发表于 2022-09-18 18:24:49">2022-09-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/16/%E7%94%A8%E4%BA%8E%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9A%84%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86/" title="用于数据可视化的数据预处理"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="用于数据可视化的数据预处理"/></a><div class="content"><a class="title" href="/2022/09/16/%E7%94%A8%E4%BA%8E%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9A%84%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86/" title="用于数据可视化的数据预处理">用于数据可视化的数据预处理</a><time datetime="2022-09-16T08:11:33.000Z" title="发表于 2022-09-16 16:11:33">2022-09-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/14/pyecharts%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="pyecharts学习笔记"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="pyecharts学习笔记"/></a><div class="content"><a class="title" href="/2022/09/14/pyecharts%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="pyecharts学习笔记">pyecharts学习笔记</a><time datetime="2022-09-14T08:43:23.000Z" title="发表于 2022-09-14 16:43:23">2022-09-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/14/matplolib%E5%AD%A6%E4%B9%A0/" title="matplolib学习笔记"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="matplolib学习笔记"/></a><div class="content"><a class="title" href="/2022/09/14/matplolib%E5%AD%A6%E4%B9%A0/" title="matplolib学习笔记">matplolib学习笔记</a><time datetime="2022-09-14T02:32:07.000Z" title="发表于 2022-09-14 10:32:07">2022-09-14</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Zhang Yuhua</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>